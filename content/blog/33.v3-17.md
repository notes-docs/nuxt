---
title: Nuxt 3.17
description: Nuxt 3.17 å‘å¸ƒäº† - å¸¦æ¥äº†å¼‚æ­¥æ•°æ®å±‚çš„é‡å¤§é‡æ„ã€ä¸€ä¸ªæ–°çš„å†…ç½®ç»„ä»¶ã€æ›´å¥½çš„è­¦å‘Šä»¥åŠæ€§èƒ½æ”¹è¿›ï¼
navigation: false
image: /assets/blog/v3.17.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://github.com/danielroe.png
    to: https://bsky.app/profile/danielroe.dev
date: 2025-04-27T10:00:00.000Z
category: Release
---

## ğŸ“Š æ•°æ®è·å–æ”¹è¿›

Nuxt æ•°æ®è·å–å±‚çš„é‡å¤§é‡ç»„ä¸º `useAsyncData` å’Œ `useFetch` å¸¦æ¥äº†æ˜¾è‘—çš„æ”¹è¿›ã€‚

å°½ç®¡æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¿æŒå‘åå…¼å®¹æ€§å¹¶å°†ç ´åæ€§æ›´æ”¹ç½®äºé»˜è®¤ç¦ç”¨çš„ `experimental.granularCachedData` æ ‡å¿—ä¹‹åï¼Œä½†æˆ‘ä»¬å»ºè®®å‡çº§åå½»åº•æµ‹è¯•æ‚¨çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœæ‚¨ä¾èµ–äºåœ¨ä½¿ç”¨ `useAsyncData` çš„ç»„ä»¶å¸è½½åæ— é™æœŸå¯ç”¨çš„ç¼“å­˜æ•°æ®ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç¦ç”¨ `experimental.purgeCachedData` ä»¥æ¢å¤åˆ°ä»¥å‰çš„è¡Œä¸ºã€‚

::read-more{to="https://github.com/nuxt/nuxt/pull/31373" target="_blank"}
é˜…è¯»åŸå§‹ PR ä»¥è·å–å®Œæ•´è¯¦ç»†ä¿¡æ¯ã€‚
::

### ç»„ä»¶é—´ä¸€è‡´çš„æ•°æ®

ç°åœ¨ï¼Œæ‰€æœ‰å…·æœ‰ç›¸åŒé”®çš„ `useAsyncData` æˆ– `useFetch` è°ƒç”¨éƒ½å…±äº«åº•å±‚çš„ refsï¼Œç¡®ä¿æ‚¨çš„åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®ä¸€è‡´æ€§ï¼š

```vue
<script setup>
const { data: users, pending } = useAsyncData('users', fetchUsers)
</script>

<script setup>
// è¿™å°†å¼•ç”¨ä¸ ComponentA ç›¸åŒçš„æ•°æ®çŠ¶æ€
const { data: users, status } = useAsyncData('users', fetchUsers)
// å½“ä»»ä¸€ç»„ä»¶åˆ·æ–°æ•°æ®æ—¶ï¼Œä¸¤è€…å°†ä¸€è‡´åœ°æ›´æ–°
</script>
```

è¿™è§£å†³äº†ç»„ä»¶å¯èƒ½å…·æœ‰ä¸ä¸€è‡´æ•°æ®çŠ¶æ€çš„å„ç§é—®é¢˜ã€‚

### å“åº”å¼ Keys

æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨è®¡ç®— refsã€æ™®é€š refs æˆ– getter å‡½æ•°ä½œä¸º keysï¼š

```ts
const userId = ref('123')
const { data: user } = useAsyncData(
  computed(() => `user-${userId.value}`),
  () => fetchUser(userId.value)
)

// æ›´æ”¹ userId å°†è‡ªåŠ¨è§¦å‘æ–°çš„æ•°æ®è·å–
// å¦‚æœæ²¡æœ‰å…¶ä»–ç»„ä»¶ä½¿ç”¨æ—§æ•°æ®ï¼Œåˆ™ä¼šæ¸…ç†æ—§æ•°æ®
userId.value = '456'
```

### ä¼˜åŒ–çš„æ•°æ®é‡æ–°è·å–

å½“ä¾èµ–é¡¹æ›´æ”¹æ—¶ï¼Œå¤šä¸ªç›‘è§†åŒä¸€æ•°æ®æºçš„ç»„ä»¶ç°åœ¨åªä¼šè§¦å‘ä¸€æ¬¡æ•°æ®è·å–ï¼š

```ts
// åœ¨å¤šä¸ªç»„ä»¶ä¸­ï¼š
const { data } = useAsyncData(
  'users',
  () => $fetch(`/api/users?page=${route.query.page}`),
  { watch: [() => route.query.page] }
)

// å½“ route.query.page æ›´æ”¹æ—¶ï¼Œåªä¼šå‘ç”Ÿä¸€æ¬¡è·å–æ“ä½œ
// æ‰€æœ‰ä½¿ç”¨æ­¤é”®çš„ç»„ä»¶å°†åŒæ—¶æ›´æ–°
```

## ğŸ­ å†…ç½® Nuxt ç»„ä»¶

### `<NuxtTime>` - ä¸€ä¸ªç”¨äºå®‰å…¨æ—¶é—´æ˜¾ç¤ºçš„æ–°ç»„ä»¶

æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ `<NuxtTime>` ç»„ä»¶ï¼Œç”¨äº SSR å®‰å…¨çš„æ—¶é—´æ˜¾ç¤ºï¼Œå®ƒå¯ä»¥è§£å†³å¤„ç†æ—¥æœŸæ—¶å‡ºç°çš„æ°´åˆä¸åŒ¹é…é—®é¢˜ ([\#31876](https://github.com/nuxt/nuxt/pull/31876))ï¼š

```vue
<template>
  <NuxtTime :datetime="Date.now()" />
</template>
```

è¯¥ç»„ä»¶æ¥å—å¤šç§æ—¶é—´æ ¼å¼ï¼Œå¹¶ä¼˜é›…åœ°å¤„ç†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ã€‚

### å¢å¼ºçš„ `<NuxtErrorBoundary>`

`<NuxtErrorBoundary>` ç»„ä»¶å·²è½¬æ¢ä¸ºå•æ–‡ä»¶ç»„ä»¶ï¼Œç°åœ¨ä»ç»„ä»¶ä»¥åŠé”™è¯¯æ’æ§½ç±»å‹ä¸­å…¬å¼€ `error` å’Œ `clearError`ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´å¥½åœ°åœ¨æ¨¡æ¿ä¸­å’Œé€šè¿‡ `useTemplateRef` å¤„ç†é”™è¯¯ ([\#31847](https://github.com/nuxt/nuxt/pull/31847))ï¼š

```vue
<NuxtErrorBoundary @error="handleError">
  <template #error="{ error, clearError }">
    <div>
      <p>{{ error.message }}</p>
      <button @click="clearError">é‡è¯•</button>
    </div>
  </template>

  <MyComponent />
</NuxtErrorBoundary>
```

## ğŸ”— è·¯ç”±æ”¹è¿›

`<NuxtLink>` ç°åœ¨æ¥å— `trailingSlash` propï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶ URL æ ¼å¼ ([\#31820](https://github.com/nuxt/nuxt/pull/31820))ï¼š

```vue
<NuxtLink to="/about" trailing-slash>å…³äº</NuxtLink>
```

## ğŸ”„ åŠ è½½æŒ‡ç¤ºå™¨è‡ªå®šä¹‰

æ‚¨ç°åœ¨å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ä¸Šä½¿ç”¨æ–°çš„ props è‡ªå®šä¹‰åŠ è½½æŒ‡ç¤ºå™¨ ([\#31532](https://github.com/nuxt/nuxt/pull/31532))ï¼š

- `hideDelay`: æ§åˆ¶åœ¨éšè—åŠ è½½æ¡ä¹‹å‰ç­‰å¾…çš„æ—¶é—´
- `resetDelay`: æ§åˆ¶åœ¨é‡ç½®åŠ è½½æŒ‡ç¤ºå™¨çŠ¶æ€ä¹‹å‰ç­‰å¾…çš„æ—¶é—´

```vue
<template>
  <NuxtLoadingIndicator :hide-delay="500" :reset-delay="300" />
</template>
```

## ğŸ“š æ–‡æ¡£ä½œä¸ºåŒ…

Nuxt æ–‡æ¡£ç°åœ¨å¯ä»¥ä½œä¸º npm åŒ…ä½¿ç”¨ï¼æ‚¨å¯ä»¥å®‰è£… `@nuxt/docs` æ¥è®¿é—®ç”¨äºæ„å»ºæ–‡æ¡£ç½‘ç«™çš„åŸå§‹ markdown å’Œ YAML å†…å®¹ ([\#31353](https://github.com/nuxt/nuxt/pull/31353))ã€‚

## ğŸ’» å¼€å‘è€…ä½“éªŒæ”¹è¿›

æˆ‘ä»¬æ·»åŠ äº†ä¸€äº›è­¦å‘Šæ¥å¸®åŠ©æ•è·å¸¸è§é”™è¯¯ï¼š

- æœåŠ¡å™¨ç»„ä»¶æ²¡æœ‰æ ¹å…ƒç´ æ—¶çš„è­¦å‘Š [\#31365](https://github.com/nuxt/nuxt/pull/31365)
- ä½¿ç”¨ä¿ç•™çš„ `runtimeConfig.app` å‘½åç©ºé—´æ—¶çš„è­¦å‘Š [\#31774](https://github.com/nuxt/nuxt/pull/31774)
- æ ¸å¿ƒè‡ªåŠ¨å¯¼å…¥é¢„è®¾è¢«è¦†ç›–æ—¶çš„è­¦å‘Š [\#29971](https://github.com/nuxt/nuxt/pull/29971)
- åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨ `definePageMeta` æ—¶çš„é”™è¯¯ [\#31634](https://github.com/nuxt/nuxt/pull/31634)

## ğŸ”Œ å¢å¼ºçš„æ¨¡å—å¼€å‘

æ¨¡å—ä½œè€…ä¼šå¾ˆé«˜å…´çŸ¥é“ï¼š

- æ–°çš„ `experimental.enforceModuleCompatibility` å…è®¸ Nuxt åœ¨åŠ è½½ä¸å…¶ä¸å…¼å®¹çš„æ¨¡å—æ—¶æŠ›å‡ºé”™è¯¯ ([\#31657](https://github.com/nuxt/nuxt/pull/31657))ã€‚å®ƒå°†åœ¨ Nuxt v4 ä¸­é»˜è®¤å¯ç”¨ã€‚
- æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ `addComponentExports` è‡ªåŠ¨æ³¨å†Œä»æ–‡ä»¶ä¸­é€šè¿‡å‘½åå¯¼å‡ºå¯¼å‡ºçš„æ¯ä¸ªç»„ä»¶ [\#27155](https://github.com/nuxt/nuxt/pull/27155)

## ğŸ”¥ æ€§èƒ½æ”¹è¿›

è¿›è¡Œäº†ä¸€äº›æ€§èƒ½æ”¹è¿›ï¼š

- åˆ‡æ¢åˆ° `tinyglobby` ä»¥åŠ å¿«æ–‡ä»¶ globbing é€Ÿåº¦ [\#31668](https://github.com/nuxt/nuxt/pull/31668)
- ä»ç±»å‹æ£€æŸ¥ä¸­æ’é™¤ `.data` ç›®å½•ä»¥åŠ å¿«æ„å»ºé€Ÿåº¦ [\#31738](https://github.com/nuxt/nuxt/pull/31738)
- é€šè¿‡æå‡ `purgeCachedData` æ£€æŸ¥æ¥æ”¹è¿› tree-shaking [\#31785](https://github.com/nuxt/nuxt/pull/31785)

## âœ… å‡çº§

æˆ‘ä»¬å»ºè®®çš„å‡çº§æ–¹æ³•æ˜¯è¿è¡Œï¼š

```sh
npx nuxi@latest upgrade --dedupe
```

è¿™ä¼šåˆ·æ–°æ‚¨çš„ lockfile å¹¶å¼•å…¥ Nuxt ä¾èµ–çš„æ‰€æœ‰æœ€æ–°ä¾èµ–é¡¹ï¼Œç‰¹åˆ«æ˜¯æ¥è‡ª unjs ç”Ÿæ€ç³»ç»Ÿçš„ä¾èµ–é¡¹ã€‚

## å®Œæ•´å‘å¸ƒè¯´æ˜

::read-more
---
icon: i-simple-icons-github 
target: _blank 
to: https://github.com/nuxt/nuxt/releases/tag/v3.17.0
---

é˜…è¯» Nuxt `v3.17.0` çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

è¡·å¿ƒæ„Ÿè°¢å‚ä¸æ­¤ç‰ˆæœ¬çš„æ¯ä¸€ä½ã€‚â¤ï¸
