---
title: Nuxt 3.10
description: Nuxt 3.10 å‘å¸ƒäº†â€”â€”å…¶ä¸­åŒ…å«å¤§é‡ç‰¹æ€§å’Œä¿®å¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›äº®ç‚¹ã€‚
navigation: false
image: /assets/blog/v3.10.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://github.com/danielroe.png
    to: https://bsky.app/profile/danielroe.dev
date: 2024-01.backface-visibility.md-30T00:00:00.000Z
category: Release
---

v3.10 ç´§éš v3.9 ä¹‹åå‘å¸ƒï¼Œä½†å…¶ä¸­åŒ…å«å¤§é‡ç‰¹æ€§å’Œä¿®å¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›äº®ç‚¹ã€‚

### âœ¨ å®éªŒæ€§é¢„æ¸²æŸ“æ—¶å…±äº« `asyncData`

åœ¨é¢„æ¸²æŸ“è·¯ç”±æ—¶ï¼Œæˆ‘ä»¬æœ€ç»ˆå¯èƒ½ä¼šé‡å¤è·å–ç›¸åŒçš„æ•°æ®ã€‚åœ¨ Nuxt 2 ä¸­ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª â€œpayloadâ€ï¼Œè¯¥ payload å¯ä»¥è·å–ä¸€æ¬¡ï¼Œç„¶ååœ¨æ¯ä¸ªé¡µé¢ä¸­è®¿é—®ï¼ˆå½“ç„¶ï¼Œè¿™åœ¨ Nuxt 3 ä¸­ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®Œæˆ - è¯·å‚é˜… [è¿™ç¯‡æ–‡ç« ](https://roe.dev/blog/shared-data-nuxt-generate)ï¼‰ã€‚

é€šè¿‡ [#24894](https://github.com/nuxt/nuxt/pull/24894)ï¼Œæˆ‘ä»¬ç°åœ¨èƒ½å¤Ÿåœ¨é¢„æ¸²æŸ“æ‚¨çš„ç«™ç‚¹æ—¶è‡ªåŠ¨ä¸ºæ‚¨æ‰§è¡Œæ­¤æ“ä½œã€‚æ‚¨çš„ [`useAsyncData`](/docs/api/composables/use-async-data) å’Œ [`useFetch`](/docs/api/composables/use-fetch) è°ƒç”¨å°†åœ¨æ‚¨ç«™ç‚¹çš„æ¸²æŸ“ä¹‹é—´è¿›è¡Œé‡å¤æ•°æ®åˆ é™¤å’Œç¼“å­˜ã€‚

```ts [nuxt.config.ts]
export defineNuxtConfig({
  experimental: {
    sharedPrerenderData: true
  }
})
```

::important
å°¤å…¶é‡è¦çš„æ˜¯è¦ç¡®ä¿æ•°æ®çš„ä»»ä½•å”¯ä¸€é”®å§‹ç»ˆå¯ä»¥è§£æä¸ºç›¸åŒçš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ `useAsyncData` è·å–ä¸ç‰¹å®šé¡µé¢ç›¸å…³çš„æ•°æ®ï¼Œåˆ™åº”æä¾›å”¯ä¸€åŒ¹é…è¯¥æ•°æ®çš„é”®ã€‚ï¼ˆ`useFetch` åº”è¯¥ä¼šè‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œã€‚ï¼‰
::

::read-more
---
to: /docs/guide/going-further/experimental-features#sharedprerenderdata
---
::

### ğŸ†” SSR å®‰å…¨çš„æ— éšœç¢å”¯ä¸€ ID åˆ›å»º

æˆ‘ä»¬ç°åœ¨æä¾›äº†ä¸€ä¸ª `useId` composable æ¥ç”Ÿæˆ SSR å®‰å…¨çš„å”¯ä¸€ ID ([#23368](https://github.com/nuxt/nuxt/pull/23368))ã€‚è¿™å…è®¸åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­åˆ›å»ºæ›´æ˜“äºè®¿é—®çš„ç•Œé¢ã€‚ä¾‹å¦‚ï¼š

```vue [components/MyForm.vue]
<script setup>
const emailId = useId()
const passwordId = useId()
</script>

<template>
  <form>
    <label :for="emailId">Email</label>
    <input
      :id="emailId"
      name="email"
      type="email"
    >
    <label :for="passwordId">Password</label>
    <input
      :id="passwordId"
      name="password"
      type="password"
    >
  </form>
</template>
```

### âœï¸ æ‰©å±• `app/router.options`

æ¨¡å—ä½œè€…ç°åœ¨å¯ä»¥æ³¨å…¥ä»–ä»¬è‡ªå·±çš„ `router.options` æ–‡ä»¶ ([#24922](https://github.com/nuxt/nuxt/pull/24922))ã€‚æ–°çš„ `pages:routerOptions` é’©å­å…è®¸æ¨¡å—ä½œè€…æ‰§è¡Œè¯¸å¦‚æ·»åŠ è‡ªå®šä¹‰ `scrollBehavior` æˆ–æ·»åŠ è·¯ç”±çš„è¿è¡Œæ—¶å¢å¼ºç­‰æ“ä½œã€‚

::read-more{to="/docs/guide/going-further/custom-routing#router-options"}
::

### :icon{name="i-vscode-icons-file-type-node"} Client-side Node.js support

æˆ‘ä»¬ç°åœ¨ï¼ˆå®éªŒæ€§åœ°ï¼‰æ”¯æŒ polyfill å…³é”®çš„ Node.js å†…ç½®æ¨¡å— ([#25028](https://github.com/nuxt/nuxt/pull/25028))ï¼Œå°±åƒæˆ‘ä»¬åœ¨éƒ¨ç½²åˆ°é Node ç¯å¢ƒæ—¶å·²ç»åœ¨æœåŠ¡å™¨ä¸Šé€šè¿‡ Nitro æ‰€åšçš„é‚£æ ·ã€‚

è¿™æ„å‘³ç€ï¼Œåœ¨æ‚¨çš„å®¢æˆ·ç«¯ä»£ç ä¸­ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä» Node å†…ç½®æ¨¡å—å¯¼å…¥ï¼ˆæ”¯æŒ `node:` å’Œ Node å¯¼å…¥ï¼‰ã€‚ä½†æ˜¯ï¼Œä¸ºäº†é¿å…ä¸å¿…è¦åœ°å¢åŠ æ‚¨çš„åŒ…å¤§å°ï¼Œæ²¡æœ‰ä»»ä½•å†…å®¹æ˜¯å…¨å±€æ³¨å…¥çš„ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥å®ƒä»¬ã€‚

```ts [some-file.ts]
import { Buffer } from 'node:buffer'
import process from 'node:process'
```

æˆ–è€…æä¾›æ‚¨è‡ªå·±çš„ polyfillï¼Œä¾‹å¦‚åœ¨ Nuxt æ’ä»¶ä¸­ã€‚

```ts [plugins/node.client.ts]
import { Buffer } from 'node:buffer'
import process from 'node:process'

globalThis.Buffer = Buffer
globalThis.process = process

export default defineNuxtPlugin({})
```

è¿™åº”è¯¥ä½¿ä½¿ç”¨æ²¡æœ‰é€‚å½“æµè§ˆå™¨æ”¯æŒçš„åº“çš„ç”¨æˆ·æ›´è½»æ¾ã€‚ä½†æ˜¯ï¼Œç”±äºä¸å¿…è¦åœ°å¢åŠ åŒ…å¤§å°çš„é£é™©ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ç”¨æˆ· **å°½å¯èƒ½é€‰æ‹©å…¶ä»–æ›¿ä»£æ–¹æ¡ˆ**ã€‚

### ğŸª æ›´å¥½çš„ cookie å“åº”æ€§

æˆ‘ä»¬ç°åœ¨å…è®¸æ‚¨é€‰æ‹©ä½¿ç”¨ [CookieStore](https://developer.mozilla.org/en-US/docs/Web/API/CookieStore)ã€‚å¦‚æœæµè§ˆå™¨æ”¯æŒï¼Œé‚£ä¹ˆå½“ cookie æ›´æ–°æ—¶ï¼Œå®ƒå°†ç”¨äºä»£æ›¿ BroadcastChannel æ¥å“åº”å¼åœ°æ›´æ–° `useCookie` çš„å€¼ ([#25198](https://github.com/nuxt/nuxt/pull/25198))ã€‚

è¿™è¿˜ä¼´éšç€ä¸€ä¸ªæ–°çš„ composable `refreshCookie`ï¼Œå®ƒå…è®¸æ‰‹åŠ¨åˆ·æ–° cookie å€¼ï¼Œä¾‹å¦‚åœ¨æ‰§è¡Œè¯·æ±‚åã€‚

::read-more{to="/docs/api/utils/refresh-cookie"}
::

### ğŸ¥ æ£€æµ‹åæ¨¡å¼

åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†ä¸€ç³»åˆ—åŠŸèƒ½æ¥æ£€æµ‹æ½œåœ¨çš„é”™è¯¯å’Œæ€§èƒ½é—®é¢˜ã€‚

- å¦‚æœåœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ `setInterval`ï¼Œæˆ‘ä»¬ç°åœ¨ä¼šæŠ›å‡ºé”™è¯¯ ([#25259](https://github.com/nuxt/nuxt/pull/25259))ã€‚
- å¦‚æœæ•°æ®è·å– composables ä½¿ç”¨ä¸å½“ ([#25071](https://github.com/nuxt/nuxt/pull/25071))ï¼Œä¾‹å¦‚åœ¨æ’ä»¶æˆ– setup ä¸Šä¸‹æ–‡ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¼šå‘å‡ºè­¦å‘Šï¼ˆä»…åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼‰ã€‚
- å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨ `<NuxtPage />` ä½†å¯ç”¨äº† `vue-router` é›†æˆ ([#25490](https://github.com/nuxt/nuxt/pull/25490))ï¼Œæˆ‘ä»¬ä¼šå‘å‡ºè­¦å‘Šï¼ˆä»…åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼‰ã€‚ï¼ˆ`<RouterView />` ä¸åº”å•ç‹¬ä½¿ç”¨ã€‚ï¼‰

### ğŸ§‚ ç»†ç²’åº¦çš„è§†å›¾è¿‡æ¸¡æ”¯æŒ

ç°åœ¨å¯ä»¥ä½¿ç”¨ `definePageMeta` åŸºäºæ¯ä¸ªé¡µé¢æ§åˆ¶è§†å›¾è¿‡æ¸¡æ”¯æŒ ([#25264](https://github.com/nuxt/nuxt/pull/25264))ã€‚

æ‚¨éœ€è¦å…ˆå¯ç”¨å®éªŒæ€§çš„è§†å›¾è¿‡æ¸¡æ”¯æŒï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    viewTransition: true
  },
  app: {
    // you can disable them globally if necessary (they are enabled by default)
    viewTransition: false
  }
})
```

æ‚¨å¯ä»¥ç»†ç²’åº¦åœ°é€‰æ‹©å¯ç”¨/ç¦ç”¨ï¼š

```vue [pages/index.vue]
<script setup lang="ts">
definePageMeta({
  viewTransition: false
})
</script>
```

æœ€åï¼Œå¦‚æœç”¨æˆ·çš„æµè§ˆå™¨åŒ¹é… `prefers-reduced-motion: reduce` ([#22292](https://github.com/nuxt/nuxt/pull/22292))ï¼ŒNuxt å°†ä¸ä¼šåº”ç”¨è§†å›¾è¿‡æ¸¡ã€‚æ‚¨å¯ä»¥è®¾ç½® `viewTransition: 'always'`ï¼›ç„¶åå°†ç”±æ‚¨æ¥å°Šé‡ç”¨æˆ·çš„åå¥½ã€‚

### ğŸ—ï¸ æ„å»ºæ—¶è·¯ç”±å…ƒæ•°æ®

ç°åœ¨å¯ä»¥åœ¨æ„å»ºæ—¶è®¿é—®åœ¨ `definePageMeta` ä¸­å®šä¹‰çš„è·¯ç”±å…ƒæ•°æ®ï¼Œå…è®¸æ¨¡å—å’Œé’©å­ä¿®æ”¹å’Œæ›´æ”¹è¿™äº›å€¼ ([#25210](https://github.com/nuxt/nuxt/pull/25210))ã€‚

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    scanPageMeta: true
  }
})
```

è¯·å°è¯•ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œå¹¶å‘Šè¯‰æˆ‘ä»¬å®ƒå¯¹æ‚¨æœ‰ä½•ä½œç”¨ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­æé«˜æ€§èƒ½å¹¶é»˜è®¤å¯ç”¨æ­¤åŠŸèƒ½ï¼Œä»¥ä¾¿åƒ `@nuxtjs/i18n` ç­‰æ¨¡å—å¯ä»¥æä¾›ä¸åœ¨ `definePageMeta` ä¸­è®¾ç½®çš„è·¯ç”±é€‰é¡¹æ›´æ·±å…¥çš„é›†æˆã€‚

### ğŸ“¦ Bundler æ¨¡å—è§£æ

é€šè¿‡ [#24837](https://github.com/nuxt/nuxt/pull/24837)ï¼Œæˆ‘ä»¬ç°åœ¨é€‰æ‹©ä½¿ç”¨ TypeScript çš„ `bundler` è§£æï¼Œè¿™åº”è¯¥æ›´æ¥è¿‘æˆ‘ä»¬åœ¨ Nuxt é¡¹ç›®ä¸­è§£ææ¨¡å—å­è·¯å¾„å¯¼å…¥çš„å®é™…æ–¹å¼ã€‚

[Vue å»ºè®®](https://github.com/vuejs/tsconfig/blob/mainz/tsconfig.json#L24-L26) å’Œ [Vite å»ºè®®](https://vitejs.dev/guide/performance.html#reduce-resolve-operations) ä½¿ç”¨ â€œBundlerâ€ æ¨¡å—è§£æï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œä»ç„¶æœ‰å¾ˆå¤šåŒ…åœ¨å…¶ `package.json` ä¸­æ²¡æœ‰æ­£ç¡®çš„æ¡ç›®ã€‚

ä½œä¸ºæ­¤è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨æ•´ä¸ªç”Ÿæ€ç³»ç»Ÿä¸­æ‰“å¼€äº† 85 ä¸ª PR æ¥æµ‹è¯•åˆ‡æ¢é»˜è®¤å€¼ï¼Œå¹¶è¯†åˆ«å’Œä¿®å¤äº†ä¸€äº›é—®é¢˜ã€‚

å¦‚æœæ‚¨éœ€è¦å…³é—­æ­¤è¡Œä¸ºï¼Œå¯ä»¥è¿™æ ·åšã€‚ä½†æ˜¯ï¼Œè¯·è€ƒè™‘åœ¨åº“æˆ–æ¨¡å—çš„ä»“åº“ä¸­æå‡º issueï¼ˆè¯·éšæ—¶åœ¨å…¶ä¸­æ ‡è®°æˆ‘ï¼‰ï¼Œä»¥ä¾¿å¯ä»¥åœ¨æºå¤´è§£å†³è¯¥é—®é¢˜ã€‚

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  future: {
    typescriptBundlerResolution: false
  }
})
```

## âœ… å‡çº§

ä¸å¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬å»ºè®®çš„å‡çº§æ–¹æ³•æ˜¯è¿è¡Œï¼š

```sh
npx nuxi upgrade --force
```

è¿™ä¹Ÿä¼šåˆ·æ–°æ‚¨çš„ lockfileï¼Œå¹¶ç¡®ä¿æ‚¨å¼•å…¥ Nuxt ä¾èµ–çš„å…¶ä»–ä¾èµ–é¡¹ï¼ˆå°¤å…¶æ˜¯åœ¨ unjs ç”Ÿæ€ç³»ç»Ÿä¸­ï¼‰çš„æ›´æ–°ã€‚

## å®Œæ•´å‘å¸ƒè¯´æ˜

::read-more
---
to: https://github.com/nuxt/nuxt/releases/tag/v3.10.0
icon: i-simple-icons-github
target: _blank
---
é˜…è¯» Nuxt `v3.10.0` çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

æ„Ÿè°¢æ‚¨é˜…è¯»åˆ°è¿™é‡Œï¼æˆ‘ä»¬å¸Œæœ›æ‚¨å–œæ¬¢è¿™ä¸ªæ–°ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•åé¦ˆæˆ–é—®é¢˜ï¼Œè¯·åŠ¡å¿…å‘ŠçŸ¥æˆ‘ä»¬ã€‚

**Happy Nuxting âœ¨**
