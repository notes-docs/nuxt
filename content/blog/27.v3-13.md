---
title: Nuxt 3.13
description: Nuxt 3.13 å‘å¸ƒäº† - å°†æˆ‘ä»¬ä¸º Nuxt 4 æ„å»ºçš„ä¸€äº›æ–°åŠŸèƒ½ç§»æ¤å›æ¥äº†ï¼
navigation: false
image: /assets/blog/v3.13.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://github.com/danielroe.png
    to: https://bsky.app/profile/danielroe.dev
date: 2024-08-22T10:00:00.000Z
category: Release
---

## ğŸ˜ï¸ è·¯ç”±ç»„

æˆ‘ä»¬ç°åœ¨æ”¯æŒä½¿ç”¨æ‹¬å·/æ–¹æ‹¬å·å‘½åç›®å½•ï¼Œä»¥ç»„ç»‡æ‚¨çš„è·¯ç”±ï¼Œè€Œä¸ä¼šå½±å“è·¯å¾„ã€‚

ä¾‹å¦‚ï¼š

```bash [ç›®å½•ç»“æ„]
-| pages/
---| index.vue
---| (marketing)/
-----| about.vue
-----| contact.vue
```

è¿™å°†åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ç”Ÿæˆ `/`ã€`/about` å’Œ `/contact` é¡µé¢ã€‚ä¸ºäº† URL ç»“æ„çš„ç›®çš„ï¼Œ`marketing` ç»„å°†è¢«å¿½ç•¥ã€‚

åœ¨ [åŸå§‹ PR](https://github.com/nuxt/nuxt/pull/28276) ä¸­é˜…è¯»æ›´å¤šå†…å®¹ã€‚

## ğŸï¸ Islands å’Œ Head å…ƒæ•°æ®

ç°åœ¨ï¼ŒæœåŠ¡å™¨ç»„ä»¶ islands å¯ä»¥æ“ä½œ headï¼Œä¾‹å¦‚åœ¨æ¸²æŸ“æ—¶æ·»åŠ  SEO å…ƒæ•°æ®ã€‚

åœ¨ [#27987](https://github.com/nuxt/nuxt/pull/27987) ä¸­é˜…è¯»æ›´å¤šå†…å®¹ã€‚

## ğŸª è‡ªå®šä¹‰é¢„å–è§¦å‘å™¨

æˆ‘ä»¬ç°åœ¨æ”¯æŒ `NuxtLink` çš„è‡ªå®šä¹‰é¢„å–è§¦å‘å™¨ ([#27846](https://github.com/nuxt/nuxt/pull/27846))ã€‚

ä¾‹å¦‚ï¼š

```vue [pages/index.vue]
<template>
  <div>
    <NuxtLink prefetch-on="interaction">
      å½“æ‚¬åœæˆ–è·å¾—ç„¦ç‚¹æ—¶é¢„å–
    </NuxtLink>
    <NuxtLink :prefetch-on="{ visibility: true, interaction: true }">
      å½“æ‚¬åœ/ç„¦ç‚¹æ—¶ - æˆ–å½“å®ƒå˜å¾—å¯è§æ—¶é¢„å–
    </NuxtLink>
  </div>
</template>
```

ä¹Ÿå¯ä»¥ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºå…¨å±€å¯ç”¨/ç¦ç”¨è¿™äº›è®¾ç½®ï¼Œå¹¶æŒ‰é“¾æ¥è¦†ç›–å®ƒä»¬ã€‚

ä¾‹å¦‚ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  experimental: {
    defaults: {
      nuxtLink: {
        prefetch: true,
        prefetchOn: { visibility: false, interaction: true }
      }
    }
  }
})
```

## ğŸ—ºï¸ æ›´å¥½çš„æœåŠ¡å™¨ Source Maps

å½“ä½¿ç”¨ `node --enable-source-maps` è¿è¡Œæ—¶ï¼Œæ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°æœåŠ¡å™¨æ„å»ºä¸­ Vue æ–‡ä»¶çš„ source maps æŒ‡å‘ Vite æ„å»ºè¾“å‡ºï¼ˆç±»ä¼¼äº `.nuxt/dist/server/_nuxt/index-O15BBwZ3.js`ï¼‰ã€‚

ç°åœ¨ï¼Œå³ä½¿åœ¨æ‚¨çš„ Nitro æ„å»ºä¹‹åï¼Œæ‚¨çš„æœåŠ¡å™¨ source maps ä¹Ÿä¼šå¼•ç”¨æ‚¨çš„åŸå§‹æºæ–‡ä»¶ ([#28521](https://github.com/nuxt/nuxt/pull/28521))ã€‚

è¯·æ³¨æ„ï¼Œæé«˜æ„å»ºæ€§èƒ½çš„æœ€ç®€å•æ–¹æ³•ä¹‹ä¸€æ˜¯åœ¨ä¸ä½¿ç”¨ source maps æ—¶å°†å…¶å…³é—­ï¼Œæ‚¨å¯ä»¥åœ¨ `nuxt.config` ä¸­è½»æ¾å®Œæˆæ­¤æ“ä½œï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  sourcemap: {
    server: false,
    client: true,
  },
})
```

## ğŸ æ¨¡å—ä½œè€…çš„æ–°åŠŸèƒ½

åœ¨ Nuxt v4 å‘å¸ƒä¹‹å‰ï¼Œæˆ‘ä»¬æ­£åœ¨åŠªåŠ›ä¸ºæ¨¡å—ä½œè€…æ·»åŠ ä¸€äº›å…³é”®åŠŸèƒ½ï¼ŒåŒ…æ‹¬åœ¨éœ€è¦æ—¶ä½¿ç”¨æ–°çš„ `isNuxtMajorVersion` å®ç”¨ç¨‹åº ([#27579](https://github.com/nuxt/nuxt/pull/27579))ï¼Œä»¥åŠä½¿ç”¨æ–°çš„ `defineNuxtModule().with()` æ–¹æ³•ä¸ºåˆå¹¶çš„æ¨¡å—é€‰é¡¹æä¾›æ›´å¥½çš„æ¨æ–­ç±»å‹ ([#27520](https://github.com/nuxt/nuxt/pull/27520))ã€‚

## âœ¨ æ”¹è¿›çš„å¼€å‘è­¦å‘Š

å½“åœ¨ä¸­é—´ä»¶ä¸­ä½¿ç”¨æ•°æ®è·å– composables æ—¶ï¼Œæˆ‘ä»¬ä¸å†å‘å‡ºè­¦å‘Š ([#28604](https://github.com/nuxt/nuxt/pull/28604))ï¼Œå¹¶ä¸”å½“ç”¨æˆ·ç»„ä»¶çš„åç§°ä»¥ Lazy å¼€å¤´æ—¶ï¼Œæˆ‘ä»¬ä¼šå‘å‡ºè­¦å‘Š ([#27838](https://github.com/nuxt/nuxt/pull/27838))ã€‚

## ğŸš¨ Vue TypeScript æ›´æ”¹

ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œåœ¨ Vue ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨å¢å¼º `@vue/runtime-core` ä»¥å‘ `vue` æ·»åŠ è‡ªå®šä¹‰å±æ€§ç­‰ã€‚ç„¶è€Œï¼Œè¿™æ— æ„ä¸­ç ´åäº†å¢å¼º `vue` çš„é¡¹ç›®çš„ç±»å‹ - è€Œè¿™ç°åœ¨æ˜¯å®˜æ–¹æ¨èå’Œè®°å½•çš„å¢å¼ºè¿™äº›æ¥å£çš„æ–¹å¼ï¼ˆä¾‹å¦‚ï¼Œ[ComponentCustomProperties](https://vuejs.org/api/utility-types.html#componentcustomproperties)ã€[GlobalComponents](https://vuejs.org/guide/extras/web-components.html#web-components-and-typescript) å’Œ [ç­‰ç­‰](https://vuejs.org/guide/typescript/options-api.html#augmenting-global-properties)ï¼‰ã€‚

è¿™æ„å‘³ç€ _æ‰€æœ‰_ åº“éƒ½å¿…é¡»æ›´æ–°å…¶ä»£ç ï¼ˆå¦åˆ™å°†ç ´åé‚£äº›å¢å¼º `vue` çš„åº“çš„ç±»å‹ï¼‰ã€‚

æˆ‘ä»¬å·²ç»æŒ‰ç…§è¿™äº›æ€è·¯æ›´æ–°äº† Nuxt ä¸­çš„ç±»å‹ï¼Œä½†æ˜¯å½“ä¸å°šæœªè¿™æ ·åšçš„åº“ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šé‡åˆ°æœ€æ–°çš„ `vue-router` é—®é¢˜ã€‚

è¯·åˆ›å»ºä¸€ä¸ªåŒ…å«å¤ç°æ­¥éª¤çš„ issue - æˆ‘å¾ˆä¹æ„å¸®åŠ©åˆ›å»º PR ä»¥è§£å†³ç›¸å…³ä¸Šæ¸¸åº“ä¸­çš„é—®é¢˜ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹ä»£ç çš„ `declarations.d.ts` æ–‡ä»¶æ¥è§£å†³æ­¤é—®é¢˜ï¼ˆ[æ„Ÿè°¢](https://github.com/nuxt/nuxt/pull/28542#issuecomment-2293282891) [@BobbieGoede](https://github.com/BobbieGoede)ï¼‰ï¼š

```ts [declarations.d.ts]
import type {
  ComponentCustomOptions as _ComponentCustomOptions,
  ComponentCustomProperties as _ComponentCustomProperties,
} from 'vue';

declare module '@vue/runtime-core' {
  interface ComponentCustomProperties extends _ComponentCustomProperties {}
  interface ComponentCustomOptions extends _ComponentCustomOptions {}
}
```

## âœ… å‡çº§

ä¸å¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬å»ºè®®çš„å‡çº§æ–¹æ³•æ˜¯è¿è¡Œï¼š

```sh
npx nuxi@latest upgrade --force
```

è¿™ä¹Ÿä¼šåˆ·æ–°æ‚¨çš„ lockfileï¼Œå¹¶ç¡®ä¿æ‚¨å¼•å…¥ Nuxt ä¾èµ–çš„å…¶ä»–ä¾èµ–é¡¹ï¼ˆå°¤å…¶æ˜¯åœ¨ unjs ç”Ÿæ€ç³»ç»Ÿä¸­ï¼‰çš„æ›´æ–°ã€‚

## å®Œæ•´å‘å¸ƒè¯´æ˜

::read-more
---
icon: i-simple-icons-github 
target: _blank 
to: https://github.com/nuxt/nuxt/releases/tag/v3.13.0
---
é˜…è¯» Nuxt `v3.13.0` çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

è¡·å¿ƒæ„Ÿè°¢å‚ä¸æ­¤ç‰ˆæœ¬çš„æ¯ä¸€ä½ - ä½ ä»¬æˆå°±äº† Nuxtã€‚â¤ï¸

å¦‚æœæ‚¨æœ‰ä»»ä½•åé¦ˆæˆ–é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ä»¬ï¼ğŸ™

