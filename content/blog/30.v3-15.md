---
title: Nuxt 3.15
description: Nuxt 3.15 å‘å¸ƒäº† - å¸¦æ¥äº† Vite 6ã€æ›´å¥½çš„ HMR å’Œæ›´å¿«çš„æ€§èƒ½ï¼
navigation: false
image: /assets/blog/v3.15.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://github.com/danielroe.png
    to: https://bsky.app/profile/danielroe.dev
date: 2024-12-24T10:00:00.000Z
category: Release
---

æˆ‘ä»¬æ­£æŒç»­åŠªåŠ›å¼€å‘ Nitro v3ã€Nuxt v4 åŠæ›´å¤šæ–°åŠŸèƒ½ã€‚ä½†æˆ‘ä»¬å¾ˆé«˜å…´èƒ½åœ¨åœ£è¯èŠ‚å‰å¤•ï¼ˆåˆšåˆšå¥½ï¼‰å‘å¸ƒ Nuxt v3.15ã€‚

## â„ï¸ ä¸‹é›ªå•¦ï¼

èŠ‚æ—¥å¿«ä¹ï¼å½“æ‚¨å¯åŠ¨ Nuxt æ—¶ä¼šæ³¨æ„åˆ°ï¼ˆå¦‚æœæ‚¨ä½äºåŒ—åŠçƒï¼‰ï¼ŒåŠ è½½å±å¹•ä¸Šä¼šé£˜è½ä¸€äº›é›ªèŠ± ([\#29871](https://github.com/nuxt/nuxt/pull/29871))ã€‚

## âš¡ï¸ åŒ…å« Vite 6

Nuxt v3.15 é¦–æ¬¡åŒ…å« [Vite 6](https://vite.dev/blog/announcing-vite6)ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ï¼Œä½†æˆ‘ä»¬é¢„è®¡è¿™ä¸ä¼šå¯¹ Nuxt ç”¨æˆ·é€ æˆç ´åæ€§æ›´æ”¹ï¼ˆè¯·å‚é˜…å®Œæ•´çš„ [è¿ç§»æŒ‡å—](https://vite.dev/guide/migration.html)ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çš„ä¾èµ–é¡¹ä¾èµ–äºç‰¹å®šçš„ Vite ç‰ˆæœ¬ï¼Œè¯·åŠ¡å¿…å°å¿ƒã€‚

Vite 6 æœ€é‡è¦çš„å˜åŒ–ä¹‹ä¸€æ˜¯æ–°çš„ Environment APIï¼Œæˆ‘ä»¬å¸Œæœ›å°†å…¶ä¸ Nitro ç»“åˆä½¿ç”¨ï¼Œä»¥æ”¹å–„æœåŠ¡å™¨å¼€å‘ç¯å¢ƒã€‚æ•¬è¯·æœŸå¾…ï¼

æ‚¨å¯ä»¥åœ¨ [Vite 6 çš„æ›´æ–°æ—¥å¿—](https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md#600-2024-11-26) ä¸­é˜…è¯»å®Œæ•´çš„æ›´æ”¹åˆ—è¡¨ã€‚

## ğŸªµ Chromium å¼€å‘è€…å·¥å…·æ”¹è¿›

æˆ‘ä»¬ç»å¸¸è°ˆè®º Nuxt DevToolsï¼Œä½† v3.15 åœ¨å¼€å‘æ¨¡å¼ä¸‹ä¸ºåŸºäº Chromium çš„æµè§ˆå™¨å¼€å‘è€…å·¥å…·æä¾›äº†æ›´å¥½çš„é›†æˆã€‚

æˆ‘ä»¬ç°åœ¨ä½¿ç”¨ [Chrome DevTools å¯æ‰©å±•æ€§ API](https://developer.chrome.com/docs/devtools/performance/extension)ï¼Œä»¥æ”¯æŒåœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„æ€§èƒ½é¢æ¿ä¸­æ‰“å° nuxt é’©å­çš„è®¡æ—¶ä¿¡æ¯ã€‚

## ğŸ—ºï¸ `callOnce` çš„å¯¼èˆªæ¨¡å¼

`callOnce` æ˜¯ä¸€ä¸ªå†…ç½®çš„ Nuxt composableï¼Œç”¨äºä»…è¿è¡Œä¸€æ¬¡ä»£ç ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»£ç åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œåˆ™ä¸ä¼šåœ¨å®¢æˆ·ç«¯å†æ¬¡è¿è¡Œã€‚ä½†æœ‰æ—¶æ‚¨å¸Œæœ›ä»£ç åœ¨\_æ¯æ¬¡å¯¼èˆª\_æ—¶éƒ½è¿è¡Œ - åªæ˜¯é¿å…åˆå§‹çš„æœåŠ¡å™¨/å®¢æˆ·ç«¯åŒé‡åŠ è½½ã€‚ä¸ºæ­¤ï¼Œæœ‰ä¸€ä¸ªæ–°çš„ `mode: 'navigation'` é€‰é¡¹ï¼Œå®ƒå°†ä»…åœ¨\_æ¯æ¬¡å¯¼èˆª\_æ—¶è¿è¡Œä¸€æ¬¡ä»£ç ã€‚ï¼ˆæœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ [\#30260](https://github.com/nuxt/nuxt/pull/30260)ï¼‰ã€‚

```ts
await callOnce(() => counter.value++, { mode: 'navigation' })
```

## ğŸ¥µ æ¨¡æ¿ã€é¡µé¢å’Œé¡µé¢å…ƒæ•°æ®çš„ HMR

æˆ‘ä»¬ç°åœ¨ä¸º Nuxt çš„è™šæ‹Ÿæ–‡ä»¶ï¼ˆå¦‚è·¯ç”±ã€æ’ä»¶ã€ç”Ÿæˆçš„æ–‡ä»¶ï¼‰ä»¥åŠé¡µé¢å…ƒæ•°æ®çš„å†…å®¹ï¼ˆåœ¨ `definePageMeta` å®ä¸­ï¼‰å®ç°äº†çƒ­æ¨¡å—é‡è½½ (HMR) ([\#30113](https://github.com/nuxt/nuxt/pull/30113))ã€‚

è¿™åº”è¯¥æ„å‘³ç€æ‚¨åœ¨å¼€å‘ä¸­æ‹¥æœ‰æ›´å¿«çš„ä½“éªŒï¼Œå¹¶ä¸”åœ¨æ›´æ”¹è·¯ç”±æ—¶æ— éœ€é‡æ–°åŠ è½½é¡µé¢ã€‚

## ğŸ“‹ é¡µé¢å…ƒæ•°æ®å¢å¼º

æˆ‘ä»¬ç°åœ¨æ”¯æŒé€šè¿‡ `experimental.extraPageMetaExtractionKeys` æå–é¢å¤–çš„é¡µé¢å…ƒæ•°æ®é”®ï¼ˆæ¨¡å—ä½œè€…å¯èƒ½ä½¿ç”¨ï¼‰ ([\#30015](https://github.com/nuxt/nuxt/pull/30015))ã€‚è¿™ä½¿æ¨¡å—ä½œè€…èƒ½å¤Ÿåœ¨æ„å»ºæ—¶åœ¨ `pages:resolved` é’©å­ä¸­ä½¿ç”¨æ­¤ä¿¡æ¯ã€‚

æˆ‘ä»¬ç°åœ¨è¿˜æ”¯æŒ `definePageMeta` ä¸­çš„æœ¬åœ°å‡½æ•° ([\#30241](https://github.com/nuxt/nuxt/pull/30241))ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

```ts
function validateIdParam(route) {
  return !!(route.params.id && !isNaN(Number(route.params.id)))
}

definePageMeta({
  validate: validateIdParam,
})
```

## ğŸ”¥ æ€§èƒ½æ”¹è¿›

å¦‚æœå°†åœ¨æ°´åˆåº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨åº”ç”¨ç¨‹åºæ¸…å•ï¼Œæˆ‘ä»¬ç°åœ¨ä¼šåœ¨æµè§ˆå™¨ä¸­é¢„åŠ è½½è¯¥æ¸…å• ([\#30017](https://github.com/nuxt/nuxt/pull/30017))ã€‚

å¦‚æœå¯ä»¥ï¼Œæˆ‘ä»¬è¿˜ä¼šä»æ‚¨çš„ bundle ä¸­ tree shake æ‰ vue-router çš„ hash æ¨¡å¼å†å²è®°å½• - å…·ä½“æ¥è¯´ï¼Œå¦‚æœæ‚¨æ²¡æœ‰è‡ªå®šä¹‰æ‚¨çš„ `app/router.options.ts` ([\#30297](https://github.com/nuxt/nuxt/pull/30297))ã€‚

## ğŸ£ v4 æ›´æ–°

ä¸º v4 çš„æ–°é»˜è®¤å€¼å‘å¸ƒäº†ä¸€äº›é¢å¤–çš„æ›´æ”¹ï¼ŒåŒ…æ‹¬é»˜è®¤æƒ…å†µä¸‹ä»…å†…è” Vue ç»„ä»¶çš„æ ·å¼ ([\#30305](https://github.com/nuxt/nuxt/pull/30305))ã€‚

## âœ… å‡çº§

ä¸å¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬å»ºè®®çš„å‡çº§æ–¹æ³•æ˜¯è¿è¡Œï¼š

```sh
npx nuxi@latest upgrade --force
```

è¿™ä¹Ÿä¼šåˆ·æ–°æ‚¨çš„ lockfileï¼Œå¹¶ç¡®ä¿æ‚¨å¼•å…¥ Nuxt ä¾èµ–çš„å…¶ä»–ä¾èµ–é¡¹ï¼ˆå°¤å…¶æ˜¯åœ¨ unjs ç”Ÿæ€ç³»ç»Ÿä¸­ï¼‰çš„æ›´æ–°ã€‚

## å®Œæ•´å‘å¸ƒè¯´æ˜

::read-more
---
color: neutral 
icon: i-simple-icons-github 
target: \_blank 
to: https://github.com/nuxt/nuxt/releases/tag/v3.15.0
---
é˜…è¯» Nuxt `v3.15.0` çš„å®Œæ•´å‘å¸ƒè¯´æ˜ã€‚
::

è¡·å¿ƒæ„Ÿè°¢å‚ä¸æ­¤ç‰ˆæœ¬çš„æ¯ä¸€ä½ã€‚â¤ï¸

å¦‚æœæ‚¨æœ‰ä»»ä½•åé¦ˆæˆ–é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ä»¬ï¼ğŸ™
