---
title: 'Nuxt 3.3'
description: "3.3.0 æ˜¯ä¸€ä¸ªå°ç‰ˆæœ¬ï¼ˆåŠŸèƒ½å‘å¸ƒï¼‰ï¼ŒåŒ…å«è®¸å¤šæ€§èƒ½å’Œå¼€å‘è€…ä½“éªŒæ”¹è¿›ã€bug ä¿®å¤ä»¥åŠå¯ä»¥å°è¯•çš„æ–°åŠŸèƒ½ã€‚"
image: /assets/blog/v3-3.png
authors:
  - name: Daniel Roe
    avatar:
      src: https://github.com/danielroe.png
    to: https://bsky.app/profile/danielroe.dev
date: 2023-03-14
category: Release
---

## âœ¨ æœ¬åœ°æ¨¡å—å¼€å‘ä½“éªŒ (DX)

æˆ‘ä»¬è¿›è¡Œäº†ä¸€ç³»åˆ—æ›´æ”¹ï¼Œä»¥å¯ç”¨æœ¬åœ°æ¨¡å—å¹¶æ”¹è¿›å¼€å‘ä½“éªŒã€‚

æˆ‘ä»¬ç°åœ¨ä¼šè‡ªåŠ¨æ‰«ææ‚¨çš„ [`~/modules`](/docs/guide/directory-structure/modules) æ–‡ä»¶å¤¹ï¼Œå¹¶å°†å…¶ä¸­çš„é¡¶çº§æ–‡ä»¶æ³¨å†Œä¸ºé¡¹ç›®ä¸­çš„æ¨¡å— ([#19394](https://github.com/nuxt/nuxt/pull/19394))ã€‚

å½“è¿™äº›æ–‡ä»¶å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œæˆ‘ä»¬å°†è‡ªåŠ¨é‡å¯ nuxt æœåŠ¡å™¨ã€‚

```diff
export default defineNuxtConfig({
  modules: [
    '@nuxtjs/tailwindcss',
-   '~/modules/purge-comments'
  ]
})
```

æˆ‘ä»¬ç°åœ¨è¿˜å…¬å¼€äº† `nuxt/kit`ï¼Œä»¥ä¾¿åœ¨æ‚¨çš„æœ¬åœ°é¡¹ç›®ä¸­è½»æ¾è®¿é—® kit composablesï¼Œè€Œæ— éœ€å®‰è£… `@nuxt/kit` ([#19422](https://github.com/nuxt/nuxt/pull/19422))ã€‚

[é˜…è¯»å…³äºæœ¬åœ°æ¨¡å—çš„æ–‡æ¡£](/docs/guide/directory-structure/modules).

## â™»ï¸ é‡å¯ Nuxt

æ‚¨å¯ä»¥å°†æ–‡ä»¶æ·»åŠ åˆ° `watch` æ•°ç»„ä»¥è‡ªåŠ¨é‡å¯æœåŠ¡å™¨ ([#19530](https://github.com/nuxt/nuxt/pull/19530))ã€‚è¿™å¯¹äºæ¨¡å—ä½œè€…æ¥è¯´å¯èƒ½ç‰¹åˆ«æœ‰ç”¨ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ–°çš„ `restart` é’©å­è§¦å‘ Nuxt æœåŠ¡å™¨çš„é‡å¯ ([#19084](https://github.com/nuxt/nuxt/pull/19084))ã€‚

## ğŸ”¥ æ€§èƒ½æ”¹è¿›

æˆ‘ä»¬å·²å°†é™æ€èµ„æº maxAge å¢åŠ åˆ° 1 å¹´ï¼Œä½œä¸ºæœ€ä½³å®è·µ ([#19335](https://github.com/nuxt/nuxt/pull/19335))ï¼Œå¹¶æ”¯æŒæ›´å¤šæ„å»ºçš„ tree-shaking ([#19508](https://github.com/nuxt/nuxt/pull/19508))ã€‚

![nuxt-performance-improvements](/assets/blog/nuxt-performance-improvements.png){alt="nuxt-performance-improvements" class="rounded-lg border border-gray-700"}

æˆ‘ä»¬ç°åœ¨è¿˜æ”¯æŒä½¿ç”¨å¯¹è±¡è¯­æ³•çš„è·¯ç”±é¢„åŠ è½½ [`<NuxtLink>`](/docs/api/components/nuxt-link) ([#19120](https://github.com/nuxt/nuxt/pull/19120))ï¼š

```html
<NuxtLink :to="{ name: 'home', query: { year: '2023' } }">Home</NuxtLink>
```

æˆ‘ä»¬è¿˜ä¼šè·Ÿè¸ªæ‚¨ä½¿ç”¨çš„æ¯ä¸ªæ¨¡å—æ‰§è¡Œè®¾ç½®æ‰€éœ€çš„æ—¶é—´ï¼Œå¦‚æœæ—¶é—´è¿‡é•¿åˆ™ä¼šå‘å‡ºè­¦å‘Šã€‚æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ `DEBUG=1` è¿è¡Œå¼€å‘æœåŠ¡å™¨æ¥æŸ¥çœ‹æ‰€æœ‰è¿™äº›å€¼ ([#18648](https://github.com/nuxt/nuxt/pull/18648))ã€‚

```sh
DEBUG=1 npx nuxt dev
â„¹ Module pages took 1.5ms to setup.
â„¹ Module meta took 3.15ms to setup
â„¹ Module components took 4.5ms to setup.
...
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡é…ç½®åœ¨ç‰¹å®šç¯å¢ƒä¸­è¿›è¡Œ tree-shaking çš„ composables ([#19383](https://github.com/nuxt/nuxt/pull/19383)) æˆ–è‡ªåŠ¨æ³¨å…¥ magic keys ([#19490](https://github.com/nuxt/nuxt/pull/19490))ï¼Œé€‰æ‹©åŠ å…¥ Nuxt çš„ä¸€äº›å†…éƒ¨ä¼˜åŒ–ã€‚

## ğŸ› é”™è¯¯å¤„ç†

æˆ‘ä»¬ç°åœ¨é»˜è®¤å¤„ç† chunk é”™è¯¯ ([#19086](https://github.com/nuxt/nuxt/pull/19086))ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨çš„ç«™ç‚¹é€šè¿‡é‡æ–°éƒ¨ç½²è¿›è¡Œæ›´æ–°ï¼Œ**æˆ‘ä»¬ä¼šåœ¨å¯¼èˆªæ—¶è‡ªåŠ¨å¤„ç†é‡æ–°åŠ è½½**ã€‚

è¦ç¦ç”¨æ­¤è¡Œä¸ºï¼Œè¯·å°† `experimental.emitRouteChunkError` é€‰é¡¹è®¾ç½®ä¸º `'manual'`ï¼Œå¹¶ä½¿ç”¨æ–°çš„ [`reloadNuxtApp`](https://nuxt.com/docs/api/utils/reload-nuxt-app) composable è‡ªè¡Œå¤„ç†ã€‚è¯·å‚é˜…æˆ‘ä»¬çš„ [chunk-reload.client.ts æ’ä»¶](https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/plugins/chunk-reload.client.ts) äº†è§£æ›´å¤šå®ç°æ–¹å¼ã€‚

æ‚¨è¿˜å¯ä»¥è®¾ç½® `experimental.restoreState` ä»¥åœ¨é‡æ–°åŠ è½½æ—¶ä¿ç•™éƒ¨åˆ†åº”ç”¨ç¨‹åºçŠ¶æ€ï¼š

```ts [nuxt.config.ts]
defineNuxtConfig({
  experimental: {
    restoreState: true
  }
})
```

æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªæ–°çš„å®éªŒæ€§é”™è¯¯å¤„ç†ç»„ä»¶ï¼š[`<NuxtClientFallback>`](/docs/api/components/nuxt-client-fallback) ([#8216](https://github.com/nuxt/framework/pull/8216))ï¼Œå®ƒå¯ä»¥æ•è·æœåŠ¡å™¨ç«¯æ¸²æŸ“é”™è¯¯ï¼Œç”¨å›é€€å†…å®¹æ›¿æ¢å®ƒä»¬ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ç»†ç²’åº¦åœ°è§¦å‘é”™è¯¯éƒ¨åˆ†çš„é‡æ–°æ¸²æŸ“ã€‚å¯ä»¥é€šè¿‡ `experimental.clientFallback` å¯ç”¨æ­¤åŠŸèƒ½ - éå¸¸æ¬¢è¿åé¦ˆï¼

## âš¡ï¸ Head æ”¹è¿›

æˆ‘ä»¬å·²è¿ç§»ä¸ºç›´æ¥ä½¿ç”¨ [unhead](https://github.com/unjs/unhead) ([#19519](https://github.com/nuxt/nuxt/pull/19519)) - å¹¶è‡ªåŠ¨ä»æ‚¨çš„å®¢æˆ·ç«¯æ„å»ºä¸­ tree-shake ä»…é™æœåŠ¡å™¨ç«¯çš„ head composablesï¼Œå¦‚ `useServerHead` ([#19576](https://github.com/nuxt/nuxt/pull/19576))ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥æ‹¥æœ‰å‡ºè‰²çš„ SEOï¼Œè€Œæ— éœ€åœ¨å®¢æˆ·ç«¯æ„å»ºä¸­åŒ…å«ä»…ä¸çˆ¬è™«ç›¸å…³çš„ meta æ ‡ç­¾é€»è¾‘ã€‚

è¿˜æœ‰ä¸€ä¸ªæ–°çš„ [`useHeadSafe`](/docs/api/composables/use-head-safe) composableï¼Œç”¨äºå¤„ç†æ¸…ç†ä¸å¯ä¿¡çš„ç”¨æˆ·è¾“å…¥ ([#19548](https://github.com/nuxt/nuxt/pull/19548))ã€‚

## ğŸªµ æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­æ›´å¥½çš„æ—¥å¿—è®°å½•

æˆ‘ä»¬ä¸ Chrome å¼€å‘è€…å·¥å…·å›¢é˜Ÿåˆä½œï¼Œåœ¨ unjs + Nuxt ç”Ÿæ€ç³»ç»Ÿä¸­å®ç°äº†ä¸€äº›åŠŸèƒ½ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ç°åœ¨å¯¹åœ¨æ‚¨çš„ï¼ˆç›®å‰åŸºäº Chromium çš„ï¼‰æµè§ˆå™¨ä¸­éšè— Nuxt å†…éƒ¨å †æ ˆè·Ÿè¸ªæ—¥å¿—æä¾›äº†ç¬¬ä¸€æµçš„æ”¯æŒ [#19243](https://github.com/nuxt/nuxt/pull/19243)ã€‚æˆ‘ä»¬è¿˜åœ¨æ¶‰åŠ Nuxt é’©å­çš„å †æ ˆè·Ÿè¸ªæ–¹é¢è¿›è¡Œäº†ä¸€äº›æ”¹è¿› ([unjs/hookable#69](https://github.com/unjs/hookable/pull/69) å’Œ [unjs/hookable#68](https://github.com/unjs/hookable/pull/68)ï¼Œå®ç°äº† [`console.createTask`](https://developer.chrome.com/blog/devtools-modern-web-debugging/#linked-stack-traces)ã€‚

| Before | After |
| - | - |
| <img width="529" alt="before-nuxt-console-improvements" src="https://user-images.githubusercontent.com/28706372/220933126-56d9a0e5-e846-4958-a40a-e528a48bcb32.png"> | <img width="534" alt="after-nuxt-console-improvements" src="https://user-images.githubusercontent.com/28706372/220932932-932f193b-59a6-4385-8796-a62dcfd59c20.png"> |


## ğŸ’ª ç±»å‹æ”¹è¿›

æœåŠ¡å™¨ API è·¯ç”±çš„ç±»å‹ç°åœ¨æ›´åŠ æ­£ç¡® - éå¯åºåˆ—åŒ–ç±»å‹å·²ä»è¿”å›ç±»å‹ä¸­åˆ é™¤ ([unjs/nitro#1002](https://github.com/unjs/nitro/pull/1002))ã€‚

æˆ‘ä»¬ç°åœ¨è¿˜å¯¹æ›´å¤š `NuxtApp` è¿›è¡Œäº†ç±»å‹åŒ–ï¼Œå¹¶æ­£ç¡®åœ°å¯¹æœªçŸ¥æ³¨å…¥è¿›è¡Œäº†ç±»å‹åŒ–ï¼Œä»¥æé«˜ç±»å‹å®‰å…¨æ€§ ([#19643](https://github.com/nuxt/nuxt/pull/19643))ã€‚

å¦‚æœæ‚¨åœ¨ä½¿ç”¨å¸¦æœ‰ Nuxt æ•°æ®è·å– composables çš„ `transform` + `default` æ—¶é‡åˆ°æ­£ç¡®çš„ç±»å‹é—®é¢˜ï¼Œè¯·ä¸ç”¨æ‹…å¿ƒ - æˆ‘ä»¬ç°åœ¨å¯ä»¥æ­£ç¡®åœ°æ¨æ–­ç±»å‹ ([#19487](https://github.com/nuxt/nuxt/pull/19487))ã€‚

## âš—ï¸ Nitro å¢å¼º

æ­¤ç‰ˆæœ¬é™„å¸¦ Nitro v2.3ï¼Œå®ƒå¸¦æ¥äº†è®¸å¤šè‡ªèº«çš„æ”¹è¿›ã€‚æŸ¥çœ‹ [è¯¥ç‰ˆæœ¬](https://github.com/unjs/nitro/releases/tag/v2.3.0) äº†è§£æ›´å¤šä¿¡æ¯ã€‚

æˆ‘ä»¬ç°åœ¨åœ¨ nitro æœåŠ¡å™¨è·¯ç”±ä¸­æ”¯æŒ [`useAppConfig`](/docs/api/composables/use-app-config) ([#19489](https://github.com/nuxt/nuxt/pull/19489)) - è¿™æ˜¯ä¸€ä¸ªæœŸå¾…å·²ä¹…çš„æ›´æ”¹ã€‚ç°åœ¨ï¼Œ[`useAppConfig`](/docs/api/composables/use-app-config) åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å§‹ç»ˆå¯ç”¨ï¼Œç”¨äºæ¥è‡ª layersã€modules ç­‰çš„éè¿è¡Œæ—¶é…ç½®ã€‚

æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ª `nitro:build:public-assets` é’©å­ï¼Œä»¥å…è®¸ä¿®æ”¹æ¥è‡ª nitro çš„ prerender/build é˜¶æ®µçš„ assets è¾“å‡º ([#19638](https://github.com/nuxt/nuxt/pull/19638))ã€‚

## ğŸ› ï¸ æ„å»ºæ›´æ”¹

ä½œä¸ºè¿ˆå‘ [ä¸€æµæ”¯æŒ PNP å’Œ pnpm è€Œæ— éœ€ `--shamefully-hoist`](https://github.com/nuxt/nuxt/issues/14146) çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å·²åˆ é™¤å¯¹ä¸€äº›ä½¿ç”¨ CJS è§£ææ¨¡å¼çš„å†…éƒ¨ï¼ˆå·²å¼ƒç”¨ï¼‰å®ç”¨ç¨‹åºçš„æ”¯æŒ ([#19537](https://github.com/nuxt/nuxt/pull/19537) å’Œ [#19608](https://github.com/nuxt/nuxt/pull/19608))ã€‚

æˆ‘ä»¬ç°åœ¨è¿˜ä½¿ç”¨ ESM æœç´¢è·¯å¾„è§£æ `nuxt`ã€`@nuxt/kit` ç­‰ä¾èµ–é¡¹ã€‚æˆ‘ä»¬å°†å¯†åˆ‡å…³æ³¨è¿™ä¸€ç‚¹ã€‚

æˆ‘ä»¬è¿˜åœ¨ä¸ºæ”¯æŒæ–°çš„ TypeScript Node16 æ¨¡å—è§£æ ([#19606](https://github.com/nuxt/nuxt/issues/19606)) åšå‡†å¤‡ï¼Œä½œä¸ºå…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ›´æ”¹äº†è¿è¡Œæ—¶è¾“å‡ºçš„æ ¼å¼ï¼ˆä½¿ç”¨ `.js` è€Œä¸æ˜¯ `.mjs` æ‰©å±•åï¼Œä¸ºå­è·¯å¾„å¯¼å‡ºæä¾› `types` å­—æ®µç­‰ï¼‰ã€‚

## ğŸ—ºï¸ è‡ªå®šä¹‰é…ç½® schema (é«˜çº§)

æˆ‘ä»¬ä¸€ç›´åœ¨æµ‹è¯•ä¸€é¡¹å®éªŒæ€§åŠŸèƒ½ï¼Œå…è®¸æ¨¡å—å’Œç”¨æˆ·æ‰©å±• Nuxt é…ç½® schema ([#15592](https://github.com/nuxt/nuxt/issues/15592))ï¼Œæˆ‘ä»¬ç°åœ¨é»˜è®¤å¯ç”¨äº†æ­¤åŠŸèƒ½ ([#19172](https://github.com/nuxt/nuxt/pull/19172))ã€‚æˆ‘ä»¬é¢„è®¡è¿™å¯¹æ¨¡å—å’Œ layer/theme ä½œè€…ç‰¹åˆ«æœ‰ç”¨ï¼Œå¹¶åº”ä¸ºä»–ä»¬çš„ç”¨æˆ·å¸¦æ¥æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚

## æ›´æ–°æ—¥å¿—

é€šè¿‡ [æ¯”è¾ƒæ›´æ”¹](https://github.com/nuxt/nuxt/compare/v3.2.3...v3.3.0) æˆ–æŸ¥çœ‹ [GitHub ä¸Šçš„ç‰ˆæœ¬](https://github.com/nuxt/nuxt/releases/tag/v3.3.0) æŸ¥çœ‹å®Œæ•´çš„æ›´æ–°æ—¥å¿—ã€‚

æˆ‘ä»¬è¦æ„Ÿè°¢ä¸ºæ­¤ç‰ˆæœ¬åšå‡ºè´¡çŒ®çš„æ‰€æœ‰ 28 ä½è´¡çŒ®è€… ğŸ’š
