---
title: Nuxt Layers æ¨¡å—åŒ–ç½‘ç«™æ¶æ„
description: é€šè¿‡æŒ‰é¢†åŸŸ(domain)è€Œéå…³æ³¨ç‚¹(concern)ç»„ç»‡ä»£ç æ¥æ„å»ºå¯æ‰©å±•çš„ç½‘ç«™ã€‚
navigation: false
image: /assets/blog/v3.17.png
authors:
  - name: LZH
    avatar:
      src: https://github.com/danielroe.png
    to: https://bsky.app/profile/danielroe.dev
date: 2025-05-25
category: Release
---

## ä»‹ç»

Nuxt 3 å¼•å…¥äº†ä¸€ç§æ–°çš„èŒƒå¼ï¼Œç§°ä¸º â€œå±‚â€ï¼ˆLayersï¼‰ï¼Œæ–‡æ¡£å°†å…¶æè¿°ä¸º [ä¸€ä¸ªå¼ºå¤§çš„ç³»ç»Ÿï¼Œå…è®¸æ‚¨æ‰©å±•é»˜è®¤æ–‡ä»¶ã€é…ç½®ä»¥åŠæ›´å¤šå†…å®¹](https://nuxt.com/docs/getting-started/layers)ã€‚å°½ç®¡è¿™ç§è§£é‡Šåœ¨æŠ€æœ¯ä¸Šæ˜¯å‡†ç¡®çš„ï¼Œä½†å¼ºè°ƒ â€œæ‰©å±•é»˜è®¤å€¼â€ å´å¿½ç•¥äº†å¦ä¸€ä¸ªå¯èƒ½æ›´å…·å½±å“åŠ›çš„ç”¨ä¾‹â€”â€”å³é€»è¾‘ä¸Šé‡æ–°ç»„ç»‡æ‚¨çš„åº”ç”¨ç¨‹åºã€‚

### æ¦‚è¿°

ä¸ºäº†è®©æ‚¨å¿«é€Ÿäº†è§£è¿™äº›æ¦‚å¿µï¼Œæˆ‘å°†ä»ä¸€äº›ç†è®ºå¼€å§‹ï¼š

* **ç½‘ç«™ç»„ç»‡**
  * æŒ‰å…³æ³¨ç‚¹ä¸æŒ‰é¢†åŸŸç»„ç»‡è¿›è¡Œæ¯”è¾ƒ
* **Nuxt å±‚ä»‹ç»**
  * ç®€è¦ä»‹ç» Nuxt å±‚åŠå…¶å·¥ä½œåŸç†

ç„¶åï¼Œæˆ‘å°†åˆ†äº«è¿ç§»ç°æœ‰ Nuxt åº”ç”¨ç¨‹åºçš„å¯è¡Œæ­¥éª¤ï¼š

* **Nuxt å…³æ³¨ç‚¹**
  * å°†å„ä¸ª Nuxt å…³æ³¨ç‚¹ç§»åŠ¨åˆ°å±‚æ—¶å¦‚ä½•å·¥ä½œæˆ–éœ€è¦é‡æ–°é…ç½®
* **ç½‘ç«™è¿ç§»**
  * å°†æ‚¨çš„ Nuxt 3 ç½‘ç«™æˆåŠŸè¿ç§»åˆ°å±‚çš„å»ºè®®å’Œæ­¥éª¤
* **æ¼”ç¤º**
  * ä¸€ä¸ªå¸¦æœ‰æ ‡ç­¾æäº¤çš„æ¼”ç¤ºä»“åº“ï¼Œéµå¾ªå±‚è¿ç§»

åœ¨ç»§ç»­ä¹‹å‰ï¼Œæ‚¨å¯èƒ½è¿˜æƒ³å¿«é€Ÿæµè§ˆä¸€ä¸‹å®˜æ–¹çš„ï¼š

* [å…¥é—¨ Â» å±‚](https://nuxt.com/docs/guide/going-further/layers)
* [æŒ‡å— Â» ç¼–å†™ Nuxt å±‚](https://www.google.com/search?q=https://nuxt.com/docs/guide/going-further/layers%23authoring-nuxt-layers)

### ç›®å½•

è¿™æ˜¯ä¸€ç¯‡å¾ˆé•¿çš„æ–‡ç« ï¼ˆï¼ï¼‰ï¼Œå¦‚æœæ‚¨æƒ³è·³è¿‡ï¼Œè¿™é‡Œæ˜¯å®Œæ•´çš„ç›®å½•ï¼š

* ç½‘ç«™ç»„ç»‡
* Nuxt å±‚ä»‹ç»
* Nuxt å…³æ³¨ç‚¹
* ç½‘ç«™è¿ç§»
* æ¼”ç¤º
* èµ„æº
* ç»“è¯­

## ç½‘ç«™ç»„ç»‡

è®©æˆ‘ä»¬æ¥çœ‹çœ‹ç»„ç»‡ç½‘ç«™å’Œåº”ç”¨ç¨‹åºçš„ä¸¤ç§ä¸»è¦æ–¹å¼ï¼šæŒ‰ **å…³æ³¨ç‚¹** å’ŒæŒ‰ **é¢†åŸŸ**ã€‚

>è¯·æ³¨æ„ï¼Œâ€œé¢†åŸŸâ€ å’Œ â€œå…³æ³¨ç‚¹â€ è¿™ä¸¤ä¸ªè¯å¯ä»¥å¾ˆå®¹æ˜“åœ°æ›¿æ¢ä¸º â€œç‰¹æ€§â€ å’Œ â€œèŒè´£â€ã€‚ <br> è¯·éšæ„ä½¿ç”¨å¯¹æ‚¨æœ€æœ‰æ„ä¹‰çš„æœ¯è¯­ã€‚

### æŒ‰å…³æ³¨ç‚¹

å¤§å¤šæ•° Vue å’Œ Nuxt é¡¹ç›®éƒ½æºè‡ªç®€å•çš„å¯åŠ¨æ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿æŒ‰å…³æ³¨ç‚¹ï¼ˆ`pages`ã€`components` ç­‰ï¼‰å¯¹æ–‡ä»¶è¿›è¡Œåˆ†ç»„ï¼š

```
+- src
   +- components
   |   +- blog
   |   |   +- ...
   |   +- home
   |       +- ...
   +- content
   |   +- blog
   |       +- ...
   +- pages
   |   +- blog.vue
   |   +- index.vue
   +- ...
```

å½“æ‚¨çš„ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºè§„æ¨¡è¾ƒå°æ—¶ï¼Œè¿™ç§æ–‡ä»¶å¤¹ç»“æ„æ˜“äºç†è§£ä¸”æœ‰äº›éšå½¢ã€‚

ç„¶è€Œï¼Œéšç€ç½‘ç«™è§„æ¨¡çš„å¢é•¿ï¼Œè¿™ç§åˆ†ç»„ä¼šæ¨¡ç³Šæ›´è‡ªç„¶çš„å…³è”ï¼ˆå³ä¸ `blog` ç›¸å…³çš„ä¸€åˆ‡ï¼‰ï¼Œè¿™ä½¿å¾—ç†è§£æ‚¨çš„ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºå®é™…åšäº†ä»€ä¹ˆå˜å¾—å›°éš¾ã€‚

### æŒ‰é¢†åŸŸ

å½“ç½‘ç«™è¾¾åˆ°ä¸€å®šè§„æ¨¡æ—¶ï¼ˆå®é™…ä¸Šï¼Œå¹¶ä¸éœ€è¦å¾ˆå¤§ï¼ï¼‰ï¼ŒæŒ‰é¢†åŸŸï¼ˆ`blog`ã€`home` ç­‰ï¼‰åˆ’åˆ†æ–‡ä»¶ä¼šå˜å¾—æ›´ç›´è§‚ï¼š

```
+- src
   +- blog
   |   +- components
   |   |   +- ...
   |   +- content
   |   |   +- ...
   |   +- pages
   |       +- blog.vue
   +- home
   |   +- components
   |   |   +- ...
   |   +- pages
   |       +- index.vue
   +- ...
```

ç‰©ç†ä½ç½®çš„è½¬æ¢å…·æœ‰å®å®åœ¨åœ¨çš„å¥½å¤„â€¦

**æ–‡ä»¶ç®¡ç†ï¼š**

* é¢†åŸŸï¼ˆ`blog`ã€`home` ç­‰ï¼‰æˆä¸ºè‡ªåŒ…å«çš„å•å…ƒ
* ç›¸å…³ä»£ç é€šå¸¸ä½äºåŒçº§æ–‡ä»¶å¤¹ä¸­
* IDE ä¸­æ‰“å¼€çš„æ–‡ä»¶å¤¹æ›´å°‘ / æ»šåŠ¨æ›´å°‘ / è·³è½¬æ›´å°‘

**é…ç½®å’Œè®¾ç½®ï¼š**

* é¢†åŸŸé…ç½®ä¸å…¨å±€é…ç½®åˆ†ç¦»
* æ›´ç®€å•ã€æ›´å°çš„é¢†åŸŸå…¥å£ç‚¹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå·¨å¤§çš„é…ç½®æ–‡ä»¶
* æœ€å°åŒ–å…¨å±€å’Œå±€éƒ¨å…³æ³¨ç‚¹çš„æ··åˆ

**å¼€å‘è€…ä½“éªŒï¼š**

* PR æ›´ç®€å•ï¼Œå› ä¸ºå¤§å¤šæ•°æ–‡ä»¶éƒ½å­˜åœ¨äºå…¬å…±æ–‡ä»¶å¤¹çš„ä¸‹æ¸¸
* æ‚¨å¯ä»¥æ›´è½»æ¾åœ°å¼€å‘æ–°åŠŸèƒ½æˆ–ç½‘ç«™éƒ¨åˆ†
* æ‚¨å¯ä»¥æ›´è½»æ¾åœ°æ‰“å¼€/å…³é—­å®Œæ•´åŠŸèƒ½
* å¦‚æœé¢†åŸŸå˜å¾—å¤ªå¤§ï¼Œå¯ä»¥è¿›ä¸€æ­¥åˆ†è§£

ä»å…³æ³¨ç‚¹åˆ°é¢†åŸŸçš„æ¦‚å¿µè½¬å˜ï¼Œå¦‚æœæ‚¨ä» Vue çš„ Options API [è½¬å‘äº†](https://www.google.com/search?q=https://davestewart.co.uk/blog/vue-options-api-vs-composition-api/) Composition APIï¼Œæ‚¨å¯èƒ½ä¼šæ„Ÿåˆ°ç†Ÿæ‚‰ï¼›å…³æ³¨ç‚¹ä¸å†åˆ†æ•£åœ¨åºå¤§çš„ `options` ç»“æ„ä¸­ï¼Œè€Œæ˜¯å¯ä»¥æ›´è‡ªç„¶åœ°åˆ†ç»„ä¸ºå¯ç»„åˆé¡¹ã€‚

### Nuxt å±‚ä»‹ç»

äº‹å®è¯æ˜ï¼ŒNuxt å±‚éå¸¸é€‚åˆæŒ‰é¢†åŸŸ(domain)é‡æ„å’Œé‡æ–°ç»„ç»‡ç½‘ç«™ã€‚

å±‚å¯ä»¥è¢«è§†ä¸º â€œè¿·ä½ â€ åº”ç”¨ç¨‹åºï¼Œå®ƒä»¬è¢«ç¼åˆåœ¨ä¸€èµ·ä»¥åˆ›å»º â€œå®Œæ•´â€ åº”ç”¨ç¨‹åºã€‚

æ¯ä¸ªæ–‡ä»¶å¤¹ï¼š

* å¯èƒ½åŒ…å« `pages`ã€`components`ã€`server` å­æ–‡ä»¶å¤¹ç­‰
* ä½¿ç”¨ `nuxt.config.ts` æ–‡ä»¶æ ‡è¯†è‡ªå·±æ˜¯ä¸€ä¸ªå±‚

ä¸€ä¸ªå°å‹ä¸ªäººç½‘ç«™å¯èƒ½æŒ‰ä»¥ä¸‹æ–¹å¼ç»„ç»‡ï¼š

```
+- src
   +- base                     <-- å…¨å±€ã€å…±äº«æˆ–ä¸€æ¬¡æ€§åŠŸèƒ½
   |   +- ...
   +- blog                     <-- nuxt content é…ç½®ã€markdown æ–‡ç« 
   |   +- ...
   +- home                     <-- ä¸€æ¬¡æ€§ç»„ä»¶ã€åŠ¨ç”»æ’ä»¶å’Œé…ç½®
   |   +- components
   |   |   +- Hero.vue
   |   |   +- Services.vue
   |   |   +- Testimonials.vue
   |   |   +- ...
   |   +- pages
   |   |   +- index.vue
   |   +- plugins
   |   |   +- ...
   |   +- nuxt.config.ts
   +- ...
   +- nuxt.config.ts
```

é¡¶å±‚å°†ç›¸å…³çš„ é¡µé¢(`pages`)ã€ç»„ä»¶(`components`)ã€æ’ä»¶(`plugins`) ç”šè‡³ é…ç½®(`config`) éƒ½åˆ†ç¦»å‡ºæ¥ã€‚

æœ€åï¼Œæ ¹çº§åˆ«çš„ `nuxt.config.ts` é€šè¿‡ [unjs/c12](https://github.com/unjs/c12) çš„ `extends` å…³é”®å­—ç»„åˆè¿™äº›å±‚ï¼š

```typescript
export default defineNuxtConfig({
  extends: [
    './base',
    './blog',
    './home',
  ]
})
```

è¯·æ³¨æ„ï¼Œc12 ä¹Ÿå¯ä»¥ä» [åŒ…å’Œä»“åº“](https://github.com/unjs/c12%23extended-usage) æ‰©å±•â€”â€”ä½†ä¸ºäº†æœ¬æ–‡çš„ç›®çš„ï¼Œæˆ‘åªè®¨è®ºæ–‡ä»¶å¤¹ã€‚

## Nuxt å…³æ³¨ç‚¹

ç°åœ¨æ‚¨å·²ç»äº†è§£äº†åŸºäºå±‚çš„ç½‘ç«™çš„ç»“æ„ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ Nuxt çš„å…³æ³¨ç‚¹åœ¨æ­¤æ–°èŒƒå¼ä¸‹æ­£ç¡®å·¥ä½œçš„ä¸€äº›å…·ä½“ç»†èŠ‚ï¼š

* æ¡†æ¶æ–‡ä»¶å¤¹
* é¡µé¢å’Œè·¯ç”±
* ç»„ä»¶
* è‡ªåŠ¨å¯¼å…¥
* Nuxt Content
* Tailwind
* é…ç½®
* å¯¼å…¥å’Œå¯¼å‡º

::note
è¯·æ³¨æ„ï¼Œæœ¬èŠ‚å®é™…ä¸Šæ˜¯å¯¹å±‚ç›¸å…³é…ç½®çš„å¥å…¨æ€§æ£€æŸ¥ï¼Œå¹¶ä¸”ï¼š

* ä¸ºæ‚¨è®¾ç½®äº†ç½‘ç«™è¿ç§»éƒ¨åˆ†ï¼Œè¯¥éƒ¨åˆ†å°†å¼•å¯¼æ‚¨å®Œæˆå®Œæ•´çš„å±‚é‡æ„
* æä¾›äº†è®¸å¤šå…³äºä¸€èˆ¬é…ç½®çš„æç¤ºå’ŒæŠ€å·§
::

### æ¡†æ¶æ–‡ä»¶å¤¹

#### **å±‚æ–‡ä»¶å¤¹**

[å±‚](https://nuxt.com/docs/guide/going-further/layers%23directory-structure) ä¸­çš„æ ¸å¿ƒæ¡†æ¶æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨æ‰«æä»¥æ„å»ºå®Œæ•´çš„åº”ç”¨ç¨‹åºã€‚

æ­¤å¤–ï¼Œå…¶ä¸­è®¸å¤šå®ä½“å¯ä»¥ä½¿ç”¨ [é…ç½®](https://nuxt.com/docs/api/configuration/nuxt-config) è¿›ä¸€æ­¥ä¿®æ”¹ï¼š

| æ–‡ä»¶å¤¹                      | é…ç½®                  | å¤‡æ³¨                                     |
| :-------------------------- | :-------------------- | :--------------------------------------- |
| `./components`              | [components]          | è‡ªåŠ¨å¯¼å…¥ï¼ˆé»˜è®¤åµŒå¥—ï¼Œé‡å‘½å ğŸ™ï¼‰             |
| `./composables`             | [imports]             | è‡ªåŠ¨å¯¼å…¥ï¼ˆä»…é¡¶çº§ï¼‰                         |
| `./layouts`                 |                       | è‡ªåŠ¨å¯¼å…¥ï¼ˆåµŒå¥—ï¼‰                         |
| `./pages`                   | [pages]               | ç”Ÿæˆè·¯ç”±                                 |
| `./plugins`                 | [plugins]             | è‡ªåŠ¨æ³¨å†Œï¼ˆä»…é¡¶çº§ï¼‰                         |
| `./public`                  | [dir.public]          | å¤åˆ¶åˆ° `./output`                        |
| `./server`                  | [serverDir]           | æ·»åŠ ä¸­é—´ä»¶ã€API è·¯ç”±ç­‰                     |
| `./nuxt.config.ts`          |                       | é…ç½®ä¸æ ¹ `nuxt.config.ts` åˆå¹¶           |
| `./app.config.ts`           |                       | é…ç½®ä¸æ ¹ `app.config.ts` åˆå¹¶            |

è¿™æ„å‘³ç€æ‚¨é€šå¸¸å¯ä»¥æ ¹æ®éœ€è¦å°†å…³æ³¨ç‚¹åˆ†è§£åˆ°å„ä¸ªå±‚ä¸­â€”â€”Nuxt å°†è´Ÿè´£æ–‡ä»¶çš„åŠ è½½ã€æ³¨å†Œå’Œæ‹¼æ¥ã€‚

ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œæ¥è‡ªä¸åŒå±‚çš„åŒåæ–‡ä»¶ä¼šç›¸äº’è¦†ç›–ï¼Œå³å¦‚æœæ‚¨æœ‰ä¸¤ä¸ª `<layer>/pages/index.vue` æ–‡ä»¶ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªå±‚å°†è¦†ç›–ç¬¬ä¸€ä¸ªã€‚

::note
**æ³¨æ„ï¼š** æˆ‘å°†è¿›ä¸€æ­¥è°ƒæŸ¥ `public` å’Œ `server` ç­‰é‡å æ ¸å¿ƒæ–‡ä»¶å¤¹çš„è¡Œä¸ºï¼Œå› ä¸ºæˆ‘åœ¨ä¸åŒé¡¹ç›®ä¸­å¾—åˆ°äº†ä¸åŒçš„ç»“æœï¼ˆå¯èƒ½æ˜¯äººä¸ºé”™è¯¯ï¼ï¼‰ï¼Œè¯·å°½å¿«å›æ¥æŸ¥çœ‹ï¼Œæˆ‘å°†è®°å½•æˆ‘çš„å‘ç°ã€‚
::

#### **æ ¸å¿ƒæ–‡ä»¶å¤¹**

Nuxt çš„é»˜è®¤ `/` å…¨å±€æ–‡ä»¶å¤¹ä½ç½®ä¹Ÿå¯ä»¥ç§»åŠ¨åˆ°å±‚ï¼š

* [/assets](https://nuxt.com/docs/guide/directory-structure/assets)
* [/layouts](https://nuxt.com/docs/guide/directory-structure/layouts)
* [/middleware](https://nuxt.com/docs/guide/directory-structure/middleware)
* [/modules](https://nuxt.com/docs/guide/directory-structure/modules)
* [/pages](https://nuxt.com/docs/guide/directory-structure/pages)
* [/plugins](https://nuxt.com/docs/guide/directory-structure/plugins)
* [/public](https://nuxt.com/docs/guide/directory-structure/public)

ä½†æ˜¯ï¼Œæ‚¨éœ€è¦æ›´æ–° Nuxt çš„ [`dir`](https://nuxt.com/docs/api/configuration/nuxt-config%23dir) é…ç½®è®¾ç½®ï¼š

```typescript
// src/nuxt.config.ts
export default defineNuxtConfig({
  dir: {
    // æ ¸å¿ƒ
    assets: 'core/assets',
    modules: 'core/modules',
    middleware: 'core/middleware',
    plugins: 'core/plugins',

    // ç½‘ç«™
    layouts: 'layers/site/layouts',
    pages: 'layers/site/pages',
    public: 'layers/site/public',
  },
})
```

è¯·å‚é˜… **å…¨å±€å…³æ³¨ç‚¹** éƒ¨åˆ†ï¼Œäº†è§£æ¸…ç†é¡¹ç›®æ ¹ç›®å½•çš„ç†ç”±ã€‚

#### **ç¼–ç¨‹é€‰é¡¹**

é™¤äº†å±‚æ–‡ä»¶å¤¹å’Œé…ç½®ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥é€‰æ‹©ä»¥ç¼–ç¨‹æ–¹å¼æ·»åŠ æˆ–ä¿®æ”¹å…³æ³¨ç‚¹ã€‚

è¯·å‚é˜…ï¼š

* [ç¼–å†™ Nuxt å±‚](https://nuxt.com/docs/guide/going-further/layers%23authoring-nuxt-layers)ï¼Œè·å–å®Œæ•´çš„å±‚ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¨¡å—æ”¯æŒ
* [æ¨¡å—ä½œè€…æŒ‡å—](https://nuxt.com/docs/guide/going-further/modules%23module-author-guide)ï¼Œè·å–é€šè¿‡ä»£ç æ·»åŠ å’Œä¿®æ”¹èµ„æºçš„ç¤ºä¾‹
* [Nuxt Kit](https://nuxt.com/docs/api/kit)ï¼Œå®ƒæä¾›äº†ä¸€ç»„å®ç”¨ç¨‹åºæ¥å¸®åŠ©æ‚¨åˆ›å»ºå’Œä½¿ç”¨æ¨¡å—
* [ç”Ÿå‘½å‘¨æœŸé’©å­](https://nuxt.com/docs/api/advanced/hooks)ï¼Œå…è®¸æ‚¨æŒ‚æ¥åˆ°åº”ç”¨ç¨‹åºæ„å»ºå’Œè¿è¡Œæ—¶è¿‡ç¨‹

### é¡µé¢å’Œè·¯ç”±

å±‚å¯ä»¥åŒ…å«è‡ªå·±çš„é¡µé¢å¹¶å®šä¹‰å¯å¯¼èˆªè·¯ç”±ã€‚

ä½†æ˜¯ï¼Œä»»ä½• `pages` æ–‡ä»¶å¤¹éƒ½å¿…é¡»åŒ…å«å®Œæ•´çš„æ–‡ä»¶å¤¹è·¯å¾„â€”â€”å› ä¸ºå±‚åç§°ä¸ä¼šè‡ªåŠ¨å‰ç½®ï¼š

```
+- src
   +- blog
   |   +- pages
   |       +- blog              <-- è·¯ç”±ä»è¿™é‡Œå¼€å§‹ï¼Œå³ /blog
   |           +- index.vue
   |           +- ...
   +- home
       +- pages
           +- index.vue         <-- è·¯ç”±ä»è¿™é‡Œå¼€å§‹ï¼Œå³ /
```

### ç»„ä»¶

Nuxt çš„ç»„ä»¶è‡ªåŠ¨å¯¼å…¥å’Œè‡ªåŠ¨æ³¨å†Œè§„åˆ™åœ¨æˆ‘çœ‹æ¥æ²¡æœ‰å¿…è¦åœ°å¤æ‚å’Œä¸é€æ˜ã€‚

é—®é¢˜æ˜¯ï¼Œå°½ç®¡ Nuxt çš„é»˜è®¤è‡ªåŠ¨å¯¼å…¥è®¾ç½®ç¡®å®é€’å½’æ‰«æç»„ä»¶æ–‡ä»¶å¤¹ï¼š

* é¡¶çº§ç»„ä»¶ä½¿ç”¨å…¶ç»™å®šåç§°å¯¼å…¥
* åµŒå¥—ç»„ä»¶ä»¥è·¯å¾„æ®µä¸ºå‰ç¼€

å› æ­¤ï¼Œå¼€ç®±å³ç”¨çš„ç»„ä»¶ â€œè‡ªåŠ¨å¯¼å…¥â€ ä¹Ÿæ˜¯ç»„ä»¶ â€œè‡ªåŠ¨é‡å‘½åâ€ï¼š

| æ–‡ä»¶å¤¹          | ç»„ä»¶åç§°     | è‡ªåŠ¨å¯¼å…¥åç§°           |
| :-------------- | :----------- | :--------------------- |
| components      | Dropdown.vue | Dropdown.vue           |
| components/form | Dropdown.vue | FormDropdown.vue       |
| components/form/options | Dropdown.vue | FormOptionsDropdown.vue |
| components/form/options | DropdownItem.vue | FormOptionsDropdownItem.vue |

è¿™ç›´æ¥å½±å“ç»„ä»¶ç»„ç»‡ã€ä½¿ç”¨ã€IDE é›†æˆå’Œé‡æ„ï¼Œæˆ‘å·²åœ¨æ­¤å¤„è¿›è¡Œäº†åˆ†è§£ï¼š

[davestewart.co.uk/blog/nuxt-auto-import](https://davestewart.co.uk/blog/nuxt-auto-import)

åŒæ—¶ï¼Œæ‚¨å¯ä»¥è‡ªå®šä¹‰ Nuxt é»˜è®¤å€¼çš„é€‰é¡¹æ˜¯ï¼š

```typescript
// src/nuxt.config.ts
export default defineNuxtConfig({
  components: [
    // ä½¿ç”¨é»˜è®¤å€¼ï¼šä½¿ç”¨è·¯å¾„å‰ç¼€
    '~/core/components',

    // è¦†ç›–é»˜è®¤å€¼ï¼šæ— è·¯å¾„å‰ç¼€
    { path: '~/layers/site/components', pathPrefix: false },

    // è¦†ç›–é»˜è®¤å€¼ï¼šæ— è·¯å¾„å‰ç¼€ï¼Œå…¨éƒ¨å…¨å±€æ³¨å†Œï¼ˆç”¨äº Nuxt Contentï¼‰
    { path: '~/layers/blog/components', pathPrefix: false, global: true },
  ]
})
```

è¯·æ³¨æ„ï¼Œ`components` é…ç½®å¯ä»¥é‡æ–°é…ç½®ç°æœ‰æ–‡ä»¶å¤¹ï¼ˆåœ¨å±‚ä¸­å¾ˆæœ‰ç”¨ï¼‰ï¼š

```typescript
// src/layers/site/nuxt.config.ts
export default defineNuxtConfig({
  components: [
    { path: 'components', pathPrefix: false },
  ]
})
```

æ‚¨è¿˜å¯ä»¥å®Œå…¨ [ç¦ç”¨ç»„ä»¶è‡ªåŠ¨å¯¼å…¥](https://nuxt.com/docs/api/configuration/nuxt-config%23auto-importing-components)ï¼ŒåŒ…æ‹¬ä»»ä½•é»˜è®¤ `components` æ–‡ä»¶å¤¹ï¼š

```typescript
// æ ¹æˆ–å±‚ nuxt.config.ts
export default defineNuxtConfig({
  components: []
})
```

### è‡ªåŠ¨å¯¼å…¥

æˆ‘æƒ³ä»‹ç»ä¸€ä¸‹æ‰€è°“çš„[è‡ªåŠ¨å¯¼å…¥](https://nuxt.com/docs/guide/directory-structure/composables) åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯ä¸ºäº†ä¸ç»„ä»¶è¿›è¡ŒåŒºåˆ†ã€‚

åœ¨ Nuxt ä¸­ï¼Œ`composables` å’Œ `utils` æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨å¯¼å…¥ï¼Œè‡³å°‘åœ¨[é¡¶å±‚](https://nuxt.com/docs/guide/directory-structure/composables%23auto-imports-for-nested-files) ä¸Šã€‚

ç„¶è€Œï¼Œå‘½åå¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼ˆä¾‹å¦‚ï¼Œå¹¶æ²¡æœ‰[å¼ºåˆ¶](https://nuxt.com/docs/guide/directory-structure/composables%23auto-imports-for-nested-files) å†…éƒ¨æ–‡ä»¶ï¼‰ï¼Œæ‚¨å¯ä»¥æ·»åŠ æ›´å…·ä½“å‘½åçš„æ–‡ä»¶å¤¹ï¼Œæ— è®ºæ‚¨æ˜¯å¦å¸Œæœ›å®ƒä»¬è‡ªåŠ¨å¯¼å…¥ã€‚ä¸è¦åªæ˜¯å°†ä»»æ„ä»£ç æ‰”åˆ°è¿™äº›æ–‡ä»¶å¤¹ä¸­ï¼›å¦‚æœæ˜¯ `/services`ã€`/stores` æˆ–é™„åŠ çš„ `/config`ï¼Œè¯·ç»™å®ƒä¸€ä¸ªå½’å®¿ï¼Œä»¥æ˜ç¡®å…¶é¢„æœŸç”¨é€”ã€‚

è¦æ·»åŠ æ›´å¤šæ–‡ä»¶å¤¹ï¼Œè¯·å°†å®ƒä»¬æ·»åŠ åˆ° `imports.dirs` é…ç½®ä¸­ï¼Œå¹¶å†³å®šæ‚¨å¸Œæœ›å¦‚ä½•æ‰«æå®ƒä»¬ï¼š

```typescript
// src/nuxt.config.ts
export default defineNuxtConfig({
  imports: {
    dirs: [
      // æ·»åŠ æ ¸å¿ƒæœåŠ¡
      'core/services',

      // æ·»åŠ æ ¸å¿ƒå¯ç»„åˆé¡¹å­æ–‡ä»¶å¤¹ä¸­çš„ç‰¹å®šæ–‡ä»¶
      'core/composables/**/*.{ts,js,mjs,mts}',

      // è‡ªåŠ¨åŠ è½½æ‰€æœ‰å±‚ä¸­çš„æ‰€æœ‰å­˜å‚¨
      '**/stores'
    ]
  }
})
```

æ‚¨ä¹Ÿå¯ä»¥[ç¦ç”¨ä»»ä½•è‡ªåŠ¨å¯¼å…¥](https://nuxt.com/docs/api/configuration/nuxt-config%23auto-import)åŠŸèƒ½ï¼Œä½†è¿™æ ·æ‚¨å°±å¤±å»äº†å¯¼å…¥é‚£äº› â€œæ— èŠâ€ å†…å®¹çš„ä¼˜åŠ¿ï¼š

```typescript
export default defineNuxtConfig({
  imports: {
    autoImport: false
  }
})
```

å…³äº `imports` é…ç½®ï¼Œè¿˜æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š

* å®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼ˆä»…è·¯å¾„ï¼‰æˆ–å¯¹è±¡ï¼ˆé™„åŠ é€‰é¡¹ï¼›è·¯å¾„ä½¿ç”¨ `dirs`ï¼‰
* è·¯å¾„æ ¼å¼æ”¯æŒ [glob](https://github.com/mrmlnc/fast-glob%23how-to-write-patterns)ï¼Œè€Œ `components` ä¸æ”¯æŒ

è¯·å‚é˜…ç½‘ç«™è¿ç§»éƒ¨åˆ†çš„ **è·¯å¾„é…ç½®**ï¼Œè·å–æœ‰å…³ Nuxt å¦‚ä½•å¤„ç†è·¯å¾„çš„è¯¦ç»†ä¿¡æ¯ã€‚

### Nuxt Content

Nuxt Content ä¸ Nuxt Layers é…åˆè‰¯å¥½ã€‚

#### **æœ¬åœ°æº**

æ‚¨å¯ä»¥æœ‰å¤šä¸ªå†…å®¹æºï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥å°†ç‰¹å®šé¢†åŸŸçš„å†…å®¹ä¸ç›¸å…³çš„é¡µé¢ã€ç»„ä»¶ç­‰éš”ç¦»èµ·æ¥â€”â€”è¿™å¯èƒ½é€‚åˆæ‚¨çš„ç½‘ç«™æœ‰å¤šä¸ªå†…å®¹é©±åŠ¨çš„éƒ¨åˆ†ï¼Œå¦‚åšå®¢ã€æŒ‡å—ç­‰ï¼š

```
+- src
   +- blog
   |   +- ...
   +- guide
       +- components
       |   +- ...
       +- content
       |   +- index.md
       |   +- ...
       +- pages
       |   +- ...
       +- nuxt.config.ts
```

è¯·æ³¨æ„ï¼Œä¸ pages ä¸åŒï¼Œæ‚¨å¯ä»¥é…ç½®å†…å®¹è€Œæ— éœ€é‡æ–°åµŒå¥—æ–‡ä»¶å¤¹ï¼š

```typescript
// src/blog/nuxt.config.ts
export default defineNuxtConfig({
  content: {
    sources: {
      blog: {
        prefix: '/blog',
        base: './blog/content', // ä»æ ¹ç›®å½•å¼•ç”¨
        driver: 'fs',
      }
    }
  }
})
```

è¯·æ³¨æ„ï¼Œå¦‚æœä»¥åæ·»åŠ çš„å±‚æ‰“ç®—ä½¿ç”¨ `/` å‰ç¼€ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨åŒä¸€ä½ç½®å£°æ˜å¤šä¸ªå†…å®¹æºï¼Œå› ä¸ºæˆ‘è®¤ä¸ºé»˜è®¤çš„ Nuxt Content é…ç½®æœ€åˆå°†æºè®¾ç½®ä¸ºæ ¹å†…å®¹æ–‡ä»¶å¤¹å’Œ `/` å‰ç¼€ã€‚

#### **è¿œç¨‹æº**

å¦‚æœæ‚¨æƒ³ä» GitHub ç­‰[è¿œç¨‹æº](https://content.nuxt.com/guide/writing/content-sources) åŒ…å«å†…å®¹ï¼Œ[unjs/unstorage](https://github.com/unjs/unstorage) ä½¿å…¶æˆä¸ºå¯èƒ½ï¼š

```typescript
// src/blog/nuxt.config.ts
export default defineNuxtConfig({
  content: {
    sources: {
      blog: {
        prefix: `/blog`,
        dir: 'content',
        repo: '<owner>/<repo>',
        branch: 'main',
        driver: 'github',
      }
    }
  }
})
```

å¯¹äºç§æœ‰ä»“åº“ï¼Œè¯·æ·»åŠ æ‚¨çš„å‡­æ®ï¼ˆæ„Ÿè°¢ [@Atinux](https://github.com/atinux) å’Œ [@pi0](https://github.com/pi0) çš„[æç¤º](https://github.com/nuxt/nuxt/issues/18659%23issuecomment-1463137682)ï¼š

```typescript
export default defineNuxtConfig({
  extends: [
    ['gh:<owner>/<repo>', { giget: { auth: process.env.GH_TOKEN }}]
  ]
})
```

è®°å¾—å°†æ‚¨çš„ [ä»¤ç‰Œ](https://github.com/settings/tokens/new) æ·»åŠ åˆ°é¡¹ç›®çš„ `.env` æ–‡ä»¶æˆ– CI è®¾ç½®ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
# .env
GH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### **å†…å®¹ç»„ä»¶**

é¢å¤–ç»„ä»¶æç¤ºï¼šæ‚¨ä¸å¿…ä½¿ç”¨å»ºè®®çš„[å…¨å±€ç»„ä»¶å†…å®¹æ–‡ä»¶å¤¹](https://content.nuxt.com/usage/components%23global-components)ï¼Œå°±å¯ä»¥è®©ç»„ä»¶åœ¨ Markdown æ–‡æ¡£ä¸­å¯è®¿é—®ï¼Œæ‚¨ä¹Ÿå¯ä»¥ï¼š

* ä½¿ç”¨ `components` é…ç½®çš„ `global` æ ‡å¿—å°†ä»»ä½•ç»„ä»¶æ–‡ä»¶å¤¹é…ç½®ä¸ºå…¨å±€
* é€šè¿‡å°†ç‰¹å®šç»„ä»¶é‡å‘½åä¸º `.global.vue` åç¼€æ¥å°†å…¶æ ‡è®°ä¸ºå…¨å±€

### Tailwind

åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒNuxt çš„ [Tailwind æ¨¡å—](https://tailwindcss.nuxtjs.org) ä¸æ”¯æŒå±‚ï¼ˆå°½ç®¡è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ [PR](https://github.com/nuxt/tailwindcss/pull/707)ã€‚

**æ³¨æ„ï¼š** [@atinux](https://github.com/atinux) å‘Šè¯‰æˆ‘å¹¶éå¦‚æ­¤ï¼›æˆ‘å°†é€‚æ—¶è°ƒæŸ¥å¹¶æ›´æ–°æœ¬èŠ‚ã€‚

ä½†æ‚¨å¯ä»¥è½»æ¾åœ°å‘Šè¯‰ Tailwind æ‚¨çš„ CSS ç±»åœ¨å“ªé‡Œï¼š

```typescript
// tailwind.config.js
export default {
  content: [
    './core/components/**/*.vue',
    './layers/**/pages/**/*.vue',
    './layers/**/components/**/*.vue',
    ...
  ],
  ...
}
```

### é…ç½®

å…³äºé…ç½®ï¼Œæœ‰å‡ ç‚¹éœ€è¦è€ƒè™‘ï¼š

* æ¯ä¸ªæ–‡ä»¶çš„ä½ç½®
* æ¯ä¸ªæ–‡ä»¶åº”è¯¥åŒ…å«ä»€ä¹ˆ
* å¦‚ä½•æ­£ç¡®è§£æè·¯å¾„
* ä¿æŒä»£ç æ•´æ´ï¼ˆè¯·å‚é˜…å…¨å±€å…³æ³¨ç‚¹å’Œæç¤ºï¼‰

#### **å±‚é…ç½®**

å±‚å…è®¸æ‚¨å°†ç‰¹å®šäºé¢†åŸŸçš„é…ç½®ç§»åŠ¨åˆ°å•ä¸ªå±‚é…ç½®æ–‡ä»¶ä¸­ï¼š

```typescript
// src/blog/nuxt.config.ts
export default defineNuxtConfig({
  modules: [
    'markdown-tools'
  ],
  markdownTools: {
    ...
  }
})
```

è¿™å¯¹äºéš”ç¦»ç‰¹å®šé¢†åŸŸçš„åŠŸèƒ½éå¸¸æœ‰ç”¨ï¼ŒåŒæ—¶ç®€åŒ–äº†æ‚¨çš„æ ¹é…ç½®ã€‚

æ‚¨çš„æœ€ç»ˆé…ç½®å°†é€šè¿‡ [unjs/defu](https://github.com/unjs/defu) è¿›è¡Œæ™ºèƒ½åˆå¹¶ã€‚

#### **è·¯å¾„è§£æ**

è¯·æ³¨æ„ï¼Œå±‚ä¸­çš„è·¯å¾„è§£æå¯èƒ½å¾ˆæ£˜æ‰‹ï¼Œå› ä¸ºä¸Šä¸‹æ–‡ã€ç›®æ ‡å’Œæ ¼å¼çš„åŸå› ï¼š

```typescript
export default {
  foo: resolve('../some-folder'),
  bar: 'some-layer/some-folder',
  baz: '~/other-layer',
  qux: './other-layer',
}
```

æœ‰å…³é€‰é¡¹çš„å®Œæ•´ç»†åˆ†ï¼Œè¯·å‚é˜…ç½‘ç«™è¿ç§»éƒ¨åˆ†çš„ **è·¯å¾„é…ç½®**ã€‚

### å¯¼å…¥å’Œå¯¼å‡º

é‰´äºå±‚é€šå¸¸æ˜¯è‡ªåŒ…å«çš„ï¼Œå¯¼å…¥å˜å¾—æ›´ç®€å•ï¼š

```typescript
// src/dashboard/components/User.vue
import { queryUser } from '../services'
```

å¦‚æœæ‚¨æƒ³ä»å¦ä¸€ä¸ªå±‚å¯¼å…¥ï¼ˆå¹¶ä¸”æ‚¨é€‰æ‹©äº†æ‰å¹³çš„å±‚ç»“æ„ï¼‰ï¼Œæ‚¨åŸºæœ¬ä¸Šå¯ä»¥å…è´¹è·å¾—åˆ«åï¼š

```typescript
// src/profile/components/User.ts
import { queryUser } from '~/dashboard/services'
```

å¦åˆ™ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨è®¾ç½® [åˆ«å](https://nuxt.com/docs/api/configuration/nuxt-config%23alias)ï¼š

```typescript
// src/layers/profile/components/User.ts
import { queryUser } from '#dashboard/services'
```

å¦‚æœæ‚¨åªæƒ³ä»æŸä¸ªå±‚å…¬å¼€æŸäº›ä¾èµ–é¡¹ï¼Œè¯·è€ƒè™‘ä½¿ç”¨ç´¢å¼•æ–‡ä»¶ï¼š

```typescript
// src/dashboard/index.ts
export * from './services/foo'
export * from './utils/bar'
// src/profile/components/User.ts
import { queryUser } from '~/dashboard'
```

ä½†æ˜¯ï¼Œè¯·æ³¨æ„ Vite çš„æ–‡æ¡£ [ä¸å»ºè®®](https://github.com/vitejs/vite/issues/2242%23issuecomment-909249071) è¿™æ ·åšã€‚ä¼¼ä¹æœ‰å¾ˆå¥½çš„ç†ç”±ï¼ˆåŸºäº Vite è½¬æ¢è¾“å…¥çš„æ–¹å¼ï¼‰ï¼Œä½†æ‚¨éœ€è¦é˜…è¯»å®Œæ•´çš„é“¾æ¥é—®é¢˜çº¿ç¨‹æ‰èƒ½ç†è§£è¿™äº›åŸå› ã€‚æ‚¨çš„æƒ…å†µå¯èƒ½æœ‰æ‰€ä¸åŒã€‚

å…³äº[è‡ªåŠ¨å¯¼å…¥](https://nuxt.com/docs/guide/directory-structure/composables)â€”â€”è¯·è®°ä½å®ƒä»¬åªå¯¼å…¥ `components`ã€`composables` å’Œ `utils` æ–‡ä»¶å¤¹ã€‚

æ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨ [`config.imports`](https://nuxt.com/docs/api/configuration/nuxt-config%23imports) æˆ– [`config.components`](https://nuxt.com/docs/api/configuration/nuxt-config%23components) é…ç½®é¢å¤–çš„å¯¼å…¥ã€‚

## ç½‘ç«™è¿ç§»

ç°åœ¨æ‚¨å·²ç»äº†è§£äº†æ¦‚å¿µï¼Œå¯¹è¦è¿›è¡Œçš„æ›´æ–°æœ‰äº†å¤§è‡´çš„äº†è§£ï¼Œä½†æ‚¨éœ€è¦ä¸€ä¸ªè®¡åˆ’æ¥å®Œæˆå®ƒã€‚

ä¸‹é¢ï¼Œæˆ‘æ¦‚è¿°äº†æˆ‘æœ€å¥½çš„å»ºè®®ï¼ŒåŒ…æ‹¬ï¼š

* æ–‡ä»¶å¤¹ç»“æ„
* å…¨å±€å…³æ³¨ç‚¹
* è·¯å¾„é…ç½®
* è¿ç§»æ­¥éª¤
* æç¤º

### æ–‡ä»¶å¤¹ç»“æ„

å°†æ‚¨çš„ç½‘ç«™è¿ç§»åˆ°å±‚æ—¶ï¼Œé¦–å…ˆè¦å†³å®šçš„æ˜¯æ‚¨ç†æƒ³çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚

æ‚¨å¯ä»¥å°†éƒ¨åˆ†æˆ–æ‰€æœ‰å…³æ³¨ç‚¹ç§»åŠ¨åˆ°å±‚ï¼š

```bash [Partial]
+- src
    +- assets
    |
    +- layers
    |   +- blog
    |   |   +- ...
    |   +- home
    |       +- ...
    |
    +- layouts
    +- plugins
    +- components
    +- nuxt.config.ts
```

```bash [Hybrid]
+- src
    +- core
    |   +- ...
    |
    +- layers
    |   +- blog
    |   |   +- ...
    |   +- home
    |       +- ...
    |
    +- nuxt.config.ts
```

```bash [Flat]
+- src
    +- blog
    |   +- ...
    +- core
    |   +- ...
    +- home
    |   +- ...
    |
    +- nuxt.config.ts
```

æˆ‘æ›´å–œæ¬¢ **æ‰å¹³** æˆ– **æ··åˆ** ç»“æ„ï¼Œå› ä¸ºå®ƒæ˜¾è‘—åœ°å‡å°‘äº†é¡¹ç›®å¤§çº²çš„æ··ä¹±ã€‚

### å…¨å±€å…³æ³¨ç‚¹

#### **æ–‡ä»¶å¤¹**

å¦‚ä¸Šæ‰€è¿°ï¼Œæ‚¨å¯èƒ½è€ƒè™‘å°†ä¸å¸¸è®¿é—®çš„å…³æ³¨ç‚¹ç§»åŠ¨åˆ° `base` æˆ– `core` å±‚ï¼š

```
+- src
   +- core
   |   +- middleware
   |   +- modules
   |   +- plugins
   |   +- utils
   +- ...
```

å¦‚æœä¸€ä¸ªå…³æ³¨ç‚¹è·¨è¶Šå¤šä¸ªé¢†åŸŸï¼Œæˆ–è€…ä¸å¤Ÿå…·ä½“ä»¥è‡³äºæ— æ³•æ‹¥æœ‰è‡ªå·±çš„é¢†åŸŸï¼Œ`site` æ„Ÿè§‰æ˜¯ä¸€ä¸ªä¸é”™çš„å½’ç±»ï¼š

```
+- src
   +- ...
   +- site
       +- assets
       |   +- ...
       +- components
       |   +- Footer.vue
       |   +- Header.vue
       +- pages
       |   +- about.vue
       |   +- contact.vue
       +- public
       |   +- ...
       +- ...
```

#### **é…ç½®**

å°†ä¸å¸¸è®¿é—®çš„é…ç½®ç§»åŠ¨åˆ°å±‚ä¸­ï¼Œä½¿å…¶æ›´å®¹æ˜“ç»„ç»‡ï¼š

```typescript
// src/core/nuxt.config.ts
export default defineNuxtConfig({
  runtimeConfig: { ... },
  modules: [ ... ],
  plugins: [ ... ],
  nitro: { ... },
  ...
})
```

è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨ç§»åŠ¨é»˜è®¤æ–‡ä»¶å¤¹ï¼Œåˆ™éœ€è¦é‡æ–°é…ç½® Nuxt çš„ `dir` é…ç½®ã€‚

### è·¯å¾„é…ç½®

æ­£ç¡®çš„è·¯å¾„é…ç½®ï¼ˆtarget å’Œ formatï¼‰å¯¹äº Nuxt å®šä½é‡æ„åçš„åŸºäºå±‚çš„å…³æ³¨ç‚¹è‡³å…³é‡è¦ã€‚

#### **Nuxt è·¯å¾„ç›¸å…³é…ç½®å›é¡¾**

Nuxt çš„è·¯å¾„é…ç½®é€‰é¡¹å¯ä»¥ç”±å„ç§è·¯å¾„æ ¼å¼é©±åŠ¨ï¼š

| ç±»å‹        | ä»£ç                          | å¤‡æ³¨                                     |
| :---------- | :--------------------------- | :--------------------------------------- |
| ç»å¯¹è·¯å¾„    | `Path.resolve('layers/some-layer')` | æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `import.meta.url`           |
| æ ¹ç›¸å¯¹è·¯å¾„  | `layers/some-layer`          |                                          |
| å±‚ç›¸å¯¹è·¯å¾„  | `some-folder`                | ç›¸å¯¹äº `some-layer/nuxt.config.ts`        |
| åˆ«å        | `~/layers/some-layer`        | å†…éƒ¨æ‰©å±•ä¸ºç»å¯¹è·¯å¾„                       |
| Glob        | `some-layer/**/*.vue`        | æ‰©å±•ä¸ºè·¯å¾„æ•°ç»„                           |

æ­¤å¤–ï¼Œä¸€äº›é…ç½®é€‰é¡¹ä¼šæ‰«æåµŒå¥—æ–‡ä»¶å¤¹ï¼Œæä¾›ç±»ä¼¼ glob çš„åŠŸèƒ½ã€‚

ä»¥ä¸‹æ˜¯ 25 å¤šä¸ª [è·¯å¾„ç›¸å…³](https://nuxt.com/docs/api/configuration/nuxt-config) é…ç½®é€‰é¡¹ï¼ˆåŠå…¶æ€ªç™–ï¼‰ä¹‹é—´å·®å¼‚çš„ç¤ºä¾‹ï¼š

| åç§°                                          | æ”¯æŒç»å¯¹è·¯å¾„ | æ”¯æŒç›¸å¯¹æ ¹è·¯å¾„ | æ”¯æŒç›¸å¯¹å±‚è·¯å¾„ | æ”¯æŒåˆ«å | æ”¯æŒåµŒå¥— | æ”¯æŒé€šé…ç¬¦ | å¤‡æ³¨                   |
| ------------------------------------------- | ------ | ------- | ------- | ---- | ---- | ----- | -------------------- |
| `extends`      | â—      | â—       | â—       |      |      |       | å±‚å¯ä»¥åµŒå¥—ï¼ˆä¸»è¦ç”¨äºæ¨¡å—ï¼‰        |
| `dir.*`       | â—      | â—       |         |      |      |       |                      |
| `dir.public`  | â—      | â—       |         |      |      |       | ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„ public æ–‡ä»¶å¤¹ä¼˜å…ˆ  |
| `imports.dirs`  | â—      | â—       | â—       |      | â—    | â—     |                      |
| `components`   | â—      | â—       | â—       | â—    | â—    |       | é»˜è®¤ä»¥è·¯å¾„ä¸ºå‰ç¼€æ³¨å†Œç»„ä»¶         |
| `modules`     | â—      |         |         |      |      |       |                      |
| `plugins`    | â—      | â—       |         | â—    |      |       |                      |
| `ignore`     |        |         |         |      |      | â—     |                      |
| `css`     | â—      |         |         | â—    |      | â—     | ä¼¼ä¹ä»…æ”¯æŒ `~`ï¼ˆä¸æ”¯æŒåˆ«åä¸­çš„åˆ«åï¼‰ |


#### è·¯å¾„é…ç½®å»ºè®®

å…³äºè·¯å¾„çš„é…ç½®ï¼Œé—®é¢˜åœ¨äº **åœ¨å“ªé‡Œ** é…ç½®å®ƒä»¬ï¼šåœ¨ **æ ¹** å’Œ `/` æˆ– **å±‚** é…ç½®ä¸­ï¼Ÿ

æˆ‘è®¤ä¸ºå¯¹äº **è¾ƒå°** çš„ç½‘ç«™ï¼Œåœ¨å±‚é…ç½®ä¸­é…ç½®è·¯å¾„æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†å¯¹äº **è¾ƒå¤§** çš„ç½‘ç«™ï¼Œæˆ‘å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œå°†æ‰€æœ‰ä¸è·¯å¾„ç›¸å…³çš„é…ç½®éƒ½æ”¾åœ¨æ ¹ç›®å½•ä¸­ **æ›´ç®€å•**ï¼š

* æ‚¨æ— éœ€åœ¨å¤šä¸ªæ–‡ä»¶å¤¹å’Œå±‚é…ç½®æ–‡ä»¶ä¸­æŸ¥æ‰¾
* æ¯”è¾ƒå’Œå¤åˆ¶/ç²˜è´´é€‰é¡¹ä¹‹é—´çš„è·¯å¾„æ›´å®¹æ˜“
* è·¯å¾„è§£æåœ¨ä¸åŒæ·±åº¦çš„å±‚ä¹‹é—´ä¿æŒä¸€è‡´
* æ‚¨å°†ä»»ä½•é‡å¤æˆ–å†—ä½™é™åˆ¶åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­

å› æ­¤ï¼Œæ‚¨çš„æ ¸å¿ƒ `nuxt.config.ts` æ–‡ä»¶å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```typescript
import { resolve } from 'pathe'

export default defineNuxtConfig({
  extends: [
    'core',
    'layers/blog',
    'layers/site'
  ],

  alias: {
    '#core': resolve('core'),
    '#blog': resolve('layers/blog'),
    '#site': resolve('layers/site'),
  },

  dir: {
    assets: 'core/assets',
    modules: 'core/modules',
    middleware: 'core/middleware',
    public: 'layers/site/public',
  },

  components: [
    { path: '~/layers/site/components', pathPrefix: false }, // ç¦ç”¨è·¯å¾„å‰ç¼€
  ]
})
```

å°½ç®¡è¿™çœ‹èµ·æ¥æœ‰ç‚¹é‡å¤å’Œå†—é•¿ï¼Œä½†å°†è·¯å¾„é›†ä¸­åœ¨ä¸€å¤„è°ƒè¯•èµ·æ¥è¦å®¹æ˜“å¾—å¤šã€‚

ä¸ºäº†ç®€åŒ–å¹¶è‡ªåŠ¨ç”Ÿæˆæ­£ç¡®çš„é…ç½®ï¼Œè¯·ä½¿ç”¨ [Nuxt Layers Utils](https://github.com/davestewart/nuxt-layers-utils)ï¼š

```typescript
{
  extends: layers.extends(),
  alias: layers.alias(),
  ...
}
```

è¯·å‚é˜… [æŠ€å·§](#æŠ€å·§)éƒ¨åˆ†äº†è§£å®Œæ•´ç¤ºä¾‹ã€‚

## è¿ç§»æ­¥éª¤

### æ¦‚è¿°

è¿ç§»ç°æœ‰ç½‘ç«™å¹¶ä¸å›°éš¾ï¼Œä½†å¯èƒ½æœ‰ç‚¹å†’é™©å’Œä»¤äººæ²®ä¸§ã€‚

æ‚¨åº”è¯¥åƒå¯¹å¾…ä»»ä½•å…¶ä»–ä¸»è¦é‡æ„ä¸€æ ·å¯¹å¾…å®ƒï¼Œå¹¶åŠ›æ±‚ç¼“æ…¢è¿›è¡Œï¼›é€ä¸ªåŠŸèƒ½ã€é€ä¸ªæ–‡ä»¶å¤¹æˆ–é€ä¸ªæ–‡ä»¶åœ°è¿ç§»â€”â€”å› ä¸ºæ‚¨çš„æ„å»º **å°†ä¼š** ä¸­æ–­â€”â€”å¹¶ä¸”æœ‰æ—¶æ‚¨ä¸çŸ¥é“åŸå› ã€‚

ä¸ºä¸€ä¸ªå°ç½‘ç«™é¢„ç•™å‡ ä¸ªå°æ—¶ï¼Œä¸ºä¸€ä¸ªè¾ƒå¤§çš„ã€æ­£åœ¨ç”Ÿäº§ä¸­çš„ç½‘ç«™é¢„ç•™ä¸€å¤©æˆ–æ›´é•¿æ—¶é—´ã€‚

æ‚¨å¯ä»¥æŸ¥çœ‹æœ€åçš„ **æ¼”ç¤º** ä»¥è·å–çœŸå®ä¸–ç•Œçš„ç¤ºä¾‹ã€‚

### æ­¥éª¤

åœ¨å¼€å§‹ä¹‹å‰ï¼š

* å®¡é˜…å…³é”®çš„ **Nuxt å…³æ³¨ç‚¹**ï¼Œä»¥ä¾¿å¯¹æ¯ä¸ªç‚¹æœ‰å¾ˆå¥½çš„äº†è§£ã€‚
* åˆ›å»ºä¸€ä¸ª `migration` åˆ†æ”¯ï¼Œå°†æ‚¨çš„æ›´æ–°ä¸æ‚¨çš„å·¥ä½œä»£ç éš”ç¦»ã€‚

åˆ¶å®šè®¡åˆ’ï¼Œç€æ‰‹å¤„ç†ï¼š

* å…¨å±€å…³æ³¨ç‚¹ï¼Œä¾‹å¦‚ `base`
* ç‰¹å®šé¢†åŸŸï¼Œä¾‹å¦‚ `blog`ã€`home` ç­‰

é¦–å…ˆï¼š

* ä¸ºæ‰€æœ‰å±‚åˆ›å»ºåˆ«åã€‚
* ä½¿ç”¨ Webstorm ç­‰ IDEï¼Œå®ƒä¼šåœ¨æ‚¨ç§»åŠ¨æ–‡ä»¶æ—¶é‡å†™è·¯å¾„ã€‚
* åœ¨ `dev` æ¨¡å¼ä¸‹è¿è¡Œåº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿æ‚¨å¯ä»¥çœ‹åˆ°ä½•æ—¶æ›´æ”¹å¯¼è‡´åº”ç”¨ç¨‹åºä¸­æ–­ã€‚

ç„¶åï¼Œä¸€æ¬¡å¤„ç†ä¸€ä¸ªé¢†åŸŸ `/` å±‚ï¼š

* **åˆ›å»ºæ–°å±‚ï¼š**
  * æ·»åŠ ä¸€ä¸ªé¡¶å±‚æ–‡ä»¶å¤¹ã€‚
  * æ·»åŠ  `nuxt.config.ts`ã€‚
  * æ›´æ–°æ ¹ **alias** hashï¼ˆä»¥ä¾¿ç§»åŠ¨æ—¶ä½¿ç”¨åˆ«åé‡å†™ï¼‰ã€‚
  * æ›´æ–°æ ¹ **extends** æ•°ç»„ã€‚
* **ç§»åŠ¨å…³æ³¨ç‚¹ï¼Œä»¥ä¾¿æ‚¨ä¸€æ¬¡åªå¯èƒ½ç ´åä¸€ä»¶äº‹ï¼š**
  * **configï¼š**
    * ç§»åŠ¨è®¾ç½®å’Œæ¨¡å—åº”è¯¥å¾ˆç®€å•ã€‚
    * æŸäº›é…ç½®ï¼ˆä¾‹å¦‚ `dir`ã€`content`ï¼‰å¯èƒ½éœ€è¦é‡æ–°é…ç½®ã€‚
  * **pagesï¼š**
    * è®°ä½è·¯ç”±ä¸ä¼šä»¥å±‚åç§°ä¸ºå‰ç¼€ã€‚
    * ç§»åŠ¨æ—¶æ£€æŸ¥æ–‡ä»¶å¯¼å…¥ã€‚
  * **componentsï¼š**
    * å¦‚æœæ˜¯å¯¼å…¥çš„ï¼Œè¯·æ£€æŸ¥è·¯å¾„ã€‚
    * å¦‚æœæ˜¯è‡ªåŠ¨å¯¼å…¥çš„ï¼Œåº”è¯¥å¯ä»¥ç›´æ¥å·¥ä½œï¼ˆé™¤éç»„ä»¶æœ¬èº«ç§»åŠ¨åˆ°å­æ–‡ä»¶å¤¹ä¸­ï¼ï¼‰ã€‚
    * å¦‚æœä¸æ˜¯ï¼Œæ‚¨å¯èƒ½éœ€è¦å°†ç‰¹å®šçš„ç»„ä»¶æ–‡ä»¶å¤¹è·¯å¾„æ·»åŠ åˆ° **components** é…ç½®ä¸­ã€‚
  * **contentï¼š**
    * å†³å®š **Nuxt Content** æ˜¯å…¨å±€çš„è¿˜æ˜¯å±€éƒ¨çš„ã€‚
    * è®°ä½ Nuxt Content ç»„ä»¶éœ€è¦æ˜¯å…¨å±€çš„ï¼Œå› æ­¤ï¼š
      * å°†å®ƒä»¬æ·»åŠ åˆ° `components/content` ä¸­ï¼Œæˆ–è€…
      * ä½¿ç”¨ **global** æ ‡å¿—å•ç‹¬æ³¨å†Œå®ƒä»¬ã€‚
* **æ‚¨åœ¨ç§»åŠ¨æ—¶è¦æ£€æŸ¥çš„äº‹é¡¹æ˜¯ï¼š**
  * **è·¯å¾„ï¼š**
    * è®°ä½ `Path.resolve()` åœ¨æ¶ˆè´¹ `config` æ—¶çš„ä¸Šä¸‹æ–‡æ˜¯æ‚¨é¡¹ç›®çš„æ ¹æ–‡ä»¶å¤¹ã€‚
    * å±‚çº§è·¯å¾„å¯èƒ½ä»ç„¶éœ€è¦æ˜¯ `./<layer>/<concern>` è€Œä¸æ˜¯ `./<concern>`ã€‚
  * **å¯¼å…¥ï¼š**
    * å…¨å±€å¯¼å…¥å¯èƒ½ä¼šä» `~/<concern>/<domain>` å˜ä¸º `~/<layer>/<concern>`ã€‚
    * æœ¬åœ°å¯¼å…¥å¯èƒ½ä¼šå˜ä¸º `../<concern>`ã€‚
  * **é…ç½®å¯¼å…¥ï¼š**
    * `config` **import** è¯­å¥**ä¸èƒ½**ä½¿ç”¨è·¯å¾„åˆ«åï¼›æ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨ `../layer/concern`ã€‚

### è€ƒè™‘äº‹é¡¹

åœ¨æ‚¨è¿›è¡Œæ›´æ”¹æ—¶ï¼š

* **ç»å¸¸**é‡å¯å¼€å‘æœåŠ¡å™¨ã€‚
* æ‰‹åŠ¨æ£€æŸ¥ç›¸å…³é¡µé¢ã€ç»„ä»¶ã€æ¨¡å—ã€æ’ä»¶ç­‰ã€‚
* åœ¨æ¯æ¬¡æˆåŠŸæ›´æ–°æˆ–ä¸€ç»„æ›´æ–°å**æäº¤**æ‚¨çš„æ›´æ”¹ã€‚

å½“å‡ºç°é”™è¯¯æ—¶ï¼š

* å¯èƒ½æ— æ³•ç«‹å³æ¸…æ¥šé”™è¯¯å‘ç”Ÿçš„åŸå› æˆ–**ä½ç½®**ï¼ˆå³ Nuxtã€Vite ç­‰ï¼‰ã€‚
* ç¡®ä¿æ­£ç¡®**é˜…è¯»**å¹¶å°è¯•**ç†è§£**ç»ˆç«¯å’Œæµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ã€‚
* å¦‚æœæ‚¨åæ¥å‘ç°æŸäº›ä¸œè¥¿åäº†ï¼Œè¯·å›æº¯æ‚¨çš„æäº¤ï¼Œç›´åˆ°æ‰¾åˆ° bugã€‚

**é™·é˜±ï¼š**

* å±‚é…ç½®ç›‘è§†å­˜åœ¨ bugï¼ˆå……å…¶é‡æ˜¯é—´æ­‡æ€§çš„ï¼‰ã€‚
* å¯¹äºç¼ºå¤±çš„é¡µé¢ã€ç»„ä»¶ã€é”™è¯¯ï¼Œè¯·é‡å¯å¼€å‘æœåŠ¡å™¨ã€‚
* ç¼ºå¤±çš„ç»„ä»¶åœ¨æµè§ˆå™¨ä¸­ä¸ä¼šæŠ¥é”™ï¼ˆæ›´æ–° **components** é…ç½®ï¼‰ã€‚

## æŠ€å·§

### ä½¿ç”¨ Nuxt Layers Utils

ä¸ºäº†ç®€åŒ–ä¸è·¯å¾„ç›¸å…³çš„é…ç½®ï¼Œè¯·ä½¿ç”¨ [Nuxt Layers Utils](https://github.com/davestewart/nuxt-layers-utils) **ä¸€æ¬¡æ€§**å£°æ˜æ‚¨çš„å±‚ï¼Œç„¶åè‡ªåŠ¨ç”Ÿæˆé…ç½®ï¼š

```typescript
// /<your-project>/nuxt.config.ts
import { useLayers } from 'nuxt-layers-utils'

const layers = useLayers(__dirname, {
  core: 'core',
  blog: 'layers/blog',
  site: 'layers/site',
})

export default defineNuxtConfig({
  extends: layers.extends(),
  alias: layers.alias('#'),
  ...
})
```

### åˆ†ç»„ç›¸å…³é…ç½®

ä¾é  [unjs/defu](https://github.com/unjs/defu) é…ç½®è¾ƒå°çš„ç›¸å…³é€‰é¡¹å­é›†ï¼Œç„¶ååœ¨å¯¼å‡ºæ—¶å°†å®ƒä»¬åˆå¹¶ï¼š

```typescript
// src/core/nuxt.config.ts
const config = defineNuxtConfig({ ... })
const modules = defineNuxtConfig({ ... })
const build = defineNuxtConfig({ ... })
const ui = defineNuxtConfig({ ... })

export default defu(
  config,
  modules,
  build,
  ui,
)
```

æœ‰å…³å®Œæ•´ç¤ºä¾‹ï¼Œè¯·æŸ¥çœ‹æ¼”ç¤ºçš„ [æ ¸å¿ƒé…ç½®](https://github.com/davestewart/nuxt-layers-demo/blob/main/core/nuxt.config.ts)ã€‚

### è€ƒè™‘å±‚è¾…åŠ©å‡½æ•°

å¯¹äºå¯èƒ½åœ¨å±‚ä¹‹é—´**ç•¥æœ‰**ä¸åŒçš„å¤æ‚é…ç½®ï¼ˆä¾‹å¦‚ [hooks](https://nuxt.com/docs/api/advanced/hooks)ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼š

```typescript
// src/base/utils/layers.ts
export function defineLayerConfig (path: string, options?: LayerOptions) {
  const output: ReturnType<typeof defineNuxtConfig> = {}
  if (options.hooks) { /* ... */ }
  if (options.thing) { /* ... */ }
  return output
}
```

åƒè¿™æ ·ä»å±‚è°ƒç”¨ï¼š

```typescript
// src/blog/nuxt.config.ts
import { defineLayerConfig } from '../base/utils/layers'

export default defineNuxtConfig ({
  ...defineLayerConfig(__dirname, {
    hooks: [ 'foo', 'bar'],
    thing: true
  })
})
```

è¯·æ³¨æ„ï¼Œæ‚¨**ä¸èƒ½**åœ¨ `config` **import** è¯­å¥ä¸­ä½¿ç”¨è·¯å¾„åˆ«åï¼ˆä¾‹å¦‚ `~`ï¼‰ï¼Œå› ä¸º Nuxt å°šæœªå°†å®ƒä»¬ç¼–è¯‘åˆ°å…¶è‡ªå·±çš„ `.nuxt/tsconfig.json` æ–‡ä»¶ä¸­ã€‚

### éš”ç¦»å±‚

ä½¿ç”¨æ³¨é‡Šæˆ–æ¡ä»¶è¯­å¥æ¥åˆ‡æ¢å±‚ï¼š

```typescript
// src/nuxt.config.ts
export default defineNuxtConfig({
  extends: [
    './base',
    // './home',
    isDev && './blog',
  ]
})
```

### Nuxt 2 ç”¨æˆ·

æ‚¨å¯ä»¥ä½¿ç”¨ Nuxt Areas åœ¨ Nuxt 2 ä¸­è·å¾—ç±»ä¼¼å±‚çš„åŠŸèƒ½ï¼š

[github.com/davestewart/nuxt-areas](https://github.com/davestewart/nuxt-areas)

## æ¼”ç¤º

è¯´äº†è¿™ä¹ˆå¤šç†è®ºï¼Œæ¥ç‚¹ä»£ç æ€ä¹ˆæ ·ï¼Ÿ

æˆ‘ä½¿ç”¨ SÃ©bastian Chopin çš„ [Alpine](https://alpine.nuxt.com/) æ¼”ç¤ºï¼Œå¹¶å°†å…¶ä»**åŸºäºå…³æ³¨ç‚¹**çš„è®¾ç½®è¿ç§»åˆ°**åŸºäºé¢†åŸŸ**çš„è®¾ç½®ã€‚

ç›®çš„æ˜¯æ¼”ç¤ºä½¿ç”¨ä¸Šè¿°**å®é™…**å»ºè®®è¿›è¡Œçš„çœŸå®ä¸–ç•Œè¿ç§»ã€‚

æ­¤æ¬¡è¿ç§»ä¸­å·²æ ‡è®°çš„**é‡Œç¨‹ç¢‘**å¦‚ä¸‹ï¼š

* **0.1.0 â€“ Alpine starter repo**
  * æ‰©å±•å¤–éƒ¨ä¸»é¢˜çš„æœ¬åœ°å†…å®¹
* **0.5.0 â€“ Combined theme and content**
  * ç»“åˆæœ¬åœ°å†…å®¹å’Œä¸»é¢˜ï¼Œé‡‡ç”¨ä¼ ç»Ÿçš„æ‰å¹³æ–‡ä»¶å¤¹ç»“æ„ï¼ˆæŒ‰å…³æ³¨ç‚¹ï¼‰
* **1.0.0 â€“ Refactor to flat layers**
  * é‡æ„ä¸ºæ ¸å¿ƒã€ç«™ç‚¹å’Œæ–‡ç« å±‚ï¼ˆæŒ‰é¢†åŸŸï¼‰
* **1.1.0 â€“ Refactor layers to subfolder**
  * å°†ç«™ç‚¹å’Œæ–‡ç« ç§»åŠ¨åˆ°å­æ–‡ä»¶å¤¹ï¼ˆæŒ‰é¢†åŸŸï¼Œä½†æ›´æ•´æ´ï¼‰
* **1.2.0 â€“ Refactor using Nuxt Layers Utils** (WIP)
  * å°†è·¯å¾„é…ç½®è¿ç§»åˆ°æ ¹ç›®å½•ï¼ˆæŒ‰é¢†åŸŸï¼Œä½†æ›´ç®€å•ï¼‰
* **1.3.0 â€“ Advanced layer functionality** (WIP)
  * æ·±å…¥ç ”ç©¶å±‚åŠŸèƒ½ï¼Œçœ‹çœ‹èƒ½èµ°å¤šè¿œï¼

æ‚¨å¯ä»¥ä»è¿™é‡Œå…‹éš†æˆ–æµè§ˆä»“åº“ï¼š

[github.com/davestewart/nuxt-layers-demo](https://github.com/davestewart/nuxt-layers-demo)

## èµ„æº

ä¸ºäº†å®Œæ•´èµ·è§ï¼Œè¿™é‡Œæœ‰ä¸€äº›å…¶ä»–å€¼å¾—ä¸€çœ‹çš„èµ„æºé“¾æ¥ï¼š

* [Nuxt Layers Unwrapped](https://www.youtube.com/watch%3Fv%3DJm0M04p3wV0)
  * Krutie Patel åœ¨ 2023 å¹´ Nuxt Nation ä¸Šçš„æ¼”è®²ï¼Œå…¨é¢ä»‹ç»äº†å±‚ã€‚
* [Nuxt Monorepo for Large-Scale Vue Web Application](https://medium.com/%40SerKo/nuxt-monorepo-for-large-scale-vue-web-application-4c3e8a4a5868)
  * SerKo æ·±å…¥æ¢è®¨äº†å¦‚ä½•ä½¿ç”¨ monorepo å’Œå±‚æ„å»º Nuxt åº”ç”¨ç¨‹åºã€‚
* [Nuxt 3 monorepo example â€“ Basic example](https://github.com/arashat/nuxt-3-monorepo-example)
  * å…³äºå¦‚ä½•å¼€å§‹ä½¿ç”¨ Nuxt 3 å±‚ monorepo çš„æ›´ç®€å•ç¤ºä¾‹ã€‚
* [How to structure Vue projects](https://vueschool.io/articles/vuejs-tutorials/how-to-structure-vue-projects/)
  * å…³äºç»„ç»‡é¡¹ç›®ä¸åŒæ–¹å¼çš„ä¼˜ç§€æ–‡ç« ï¼Œå¹¶ä»‹ç»äº† [Feature-Sliced Design](https://feature-sliced.design/)ã€‚
* [Authoring Nuxt Layers](https://nuxt.com/docs/guide/going-further/layers%23authoring-nuxt-layers)
  * Nuxt å®˜æ–¹å…³äºç¼–å†™å±‚çš„æ–‡æ¡£ã€‚
* [Google search](https://www.google.com/search?q=nuxt+layers)
  * Google æœç´¢â€œnuxt layersâ€çš„ç»“æœã€‚

æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›å¼•ç”¨æ­¤å¸–å­çš„æ–‡ç« ï¼Œå…¶ä¸­ä¸€äº›åŒ…å«æœ‰ç”¨çš„è¯„è®ºæˆ–è®¨è®ºï¼š

* [Reddit r/Nuxt](https://www.reddit.com/r/Nuxt/comments/16x0j8d/modular_site_architecture_with_nuxt_layers/)
* [Reddit r/VueJS](https://www.reddit.com/r/vuejs/comments/16x0k4u/modular_site_architecture_with_nuxt_layers/)
* [Twitter](https://twitter.com/davestewart_dev/status/1708298716301387140)

## ç»“è¯­

å¸Œæœ›æœ¬æ–‡èƒ½ä¸ºæ‚¨æä¾›ä¸€äº›å…³äºå¦‚ä½•æ¨¡å—åŒ–æ‚¨çš„ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºçš„æ‰å®æƒ³æ³•â€”â€”å¦‚æœæˆ‘é—æ¼äº†ä»€ä¹ˆâ€”â€”ä¹Ÿæä¾›äº†ä¸€äº›å¦‚ä½•ç€æ‰‹çš„æ–¹æ³•ã€‚å±‚é€šå¸¸éå¸¸é€»è¾‘ä¸”å¯é¢„æµ‹ï¼Œè€Œç¼ºç‚¹æ˜¯éœ€è¦æ›´å¤šçš„é…ç½®ã€‚

é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘ä¸ Nuxt æœ‰ç‚¹çˆ±æ¨äº¤ç»‡ï¼Œæ‰€ä»¥å¦‚æœæ‚¨è®¤ä¸ºå…¶ä¸­æœ‰ä»€ä¹ˆé”™è¯¯æˆ–ä¸å‡†ç¡®çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç•™è¨€ï¼Œæˆ‘å°†ç›¸åº”åœ°æ›´æ–°æ–‡ç« ã€‚

æœ€åï¼Œå‘ UnJS å’Œ Nuxt å›¢é˜Ÿæ‰€åšçš„å·¥ä½œè‡´æ•¬ ğŸ™ã€‚

## å‚è€ƒ

- https://github.com/davestewart/nuxt-layers-demo/
- https://davestewart.co.uk/blog/nuxt-layers
- https://github.com/davestewart/nuxt-ui
- https://reka-ui.com/
