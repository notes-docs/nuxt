---
title: åŠ¨ç”»
description: ä½¿ç”¨ CSS å…³é”®å¸§ã€åŸç”Ÿ Vue Transition æˆ–æ‚¨é€‰æ‹©çš„ JavaScript åŠ¨ç”»åº“ä¸º Reka UI æ·»åŠ åŠ¨ç”»ã€‚
---

ä¸º Reka UI æ·»åŠ åŠ¨ç”»åº”è¯¥æ„Ÿè§‰ä¸å…¶ä»–ç»„ä»¶ç±»ä¼¼ï¼Œä½†è¿™é‡Œéœ€è¦æ³¨æ„ä¸€äº›å…³äº JavaScript åŠ¨ç”»åº“é€€å‡ºåŠ¨ç”»çš„æ³¨æ„äº‹é¡¹ã€‚

## ä½¿ç”¨ CSS åŠ¨ç”»

åŠ¨ç”»åŒ– Primitives æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ CSSã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ CSS åŠ¨ç”»æ¥åŠ¨ç”»æŒ‚è½½å’Œå¸è½½é˜¶æ®µã€‚åè€…ä¹‹æ‰€ä»¥å¯èƒ½ï¼Œæ˜¯å› ä¸º Reka UI ä¼šåœ¨åŠ¨ç”»æ’­æ”¾æœŸé—´æš‚åœå¸è½½ã€‚

```css
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.DialogOverlay[data-state="open"],
.DialogContent[data-state="open"] {
  animation: fadeIn 300ms ease-out;
}

.DialogOverlay[data-state="closed"],
.DialogContent[data-state="closed"] {
  animation: fadeOut 300ms ease-in;
}
```

## ä½¿ç”¨ Vue Transition åŠ¨ç”»

é™¤äº†ä½¿ç”¨ CSS åŠ¨ç”»ï¼Œæ‚¨å¯èƒ½æ›´å–œæ¬¢ä½¿ç”¨åŸç”Ÿçš„ Vue `<Transition>`ã€‚å¥½æ¶ˆæ¯ï¼è¿™å°±åƒåŒ…è£…ç»„ä»¶ï¼ˆå¸¦æœ‰ `forceMount` propï¼‰ä¸€æ ·ç®€å•ï¼Œæ‚¨å°±å®Œæˆäº†ï¼

```vue
<script setup lang="ts">
import {
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogOverlay,
  DialogPortal,
  DialogRoot,
  DialogTitle,
  DialogTrigger,
} from 'reka-ui'
</script>

<template>
  <DialogRoot v-model:open="open">
    <DialogTrigger>
      ç¼–è¾‘ä¸ªäººèµ„æ–™
    </DialogTrigger>
    <DialogPortal>
      <Transition name="fade">
        <DialogOverlay />
      </Transition>
      <Transition name="fade">
        <DialogContent>
          <h1>æ¥è‡ª Dialog å†…éƒ¨çš„é—®å€™ï¼</h1>
          <DialogClose>å…³é—­</DialogClose>
        </DialogContent>
      </Transition>
    </DialogPortal>
  </DialogRoot>
</template>

<style>
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}
.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}
</style>
```

## â­ï¸ ä½¿ç”¨ Motion Vue åŠ¨ç”»

[Motion Vue](https://motion.dev/docs/vue) æ˜¯ Reka UI æ¨èçš„åŠ¨ç”»åº“ã€‚è¿™ä¸ªè½»é‡çº§ã€å¼ºå¤§çš„åº“ä¸ç»„ä»¶æ— ç¼é›†æˆï¼Œå¹¶ä¸ºåˆ›å»ºæµç•…ã€é«˜æ€§èƒ½çš„åŠ¨ç”»æä¾›äº†å¹¿æ³›çš„çµæ´»æ€§ã€‚

```vue
<script setup lang="ts">
import { AnimatePresence, Motion } from 'motion-v'
import {
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogOverlay,
  DialogPortal,
  DialogRoot,
  DialogTitle,
  DialogTrigger,
} from 'reka-ui'
</script>

<template>
  <DialogRoot>
    <DialogTrigger>
      ç¼–è¾‘ä¸ªäººèµ„æ–™
    </DialogTrigger>
    <DialogPortal>
      <AnimatePresence multiple>
        <DialogOverlay as-child>
          <Motion
            :initial="{ opacity: 0, scale: 0 }"
            :animate="{ opacity: 1, scale: 1 }"
            :exit="{ opacity: 0, scale: 0.6 }"
          />
        </DialogOverlay>
        <DialogContent as-child>
          <Motion
            :initial="{ opacity: 0, top: '0%' }"
            :animate="{ opacity: 1, top: '50%' }"
            :exit="{ opacity: 0, top: '30%' }"
          >
            <h1>æ¥è‡ª Dialog å†…éƒ¨çš„é—®å€™ï¼</h1>
            <DialogClose>å…³é—­</DialogClose>
          </Motion>
        </DialogContent>
      </AnimatePresence>
    </DialogPortal>
  </DialogRoot>
</template>
```

::tip
æŸ¥çœ‹è¿™ä¸ª [Stackblitz æ¼”ç¤º](https://stackblitz.com/edit/x7y44ngl?file=src%2FApp.vue) ğŸ¤©
::

## å§”æ‰˜ JavaScript åŠ¨ç”»çš„å¸è½½

å½“è®¸å¤šæœ‰çŠ¶æ€çš„ Primitives ä»è§†å›¾ä¸­éšè—æ—¶ï¼Œå®ƒä»¬å®é™…ä¸Šæ˜¯ä» DOM ä¸­ç§»é™¤çš„ã€‚JavaScript åŠ¨ç”»åº“éœ€è¦æ§åˆ¶å¸è½½é˜¶æ®µï¼Œå› æ­¤æˆ‘ä»¬åœ¨è®¸å¤šç»„ä»¶ä¸Šæä¾›äº† `forceMount` propï¼Œä»¥å…è®¸æ¶ˆè´¹è€…æ ¹æ®è¿™äº›åº“ç¡®å®šçš„åŠ¨ç”»çŠ¶æ€æ¥å§”æ‰˜å­ç»„ä»¶çš„æŒ‚è½½å’Œå¸è½½ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³ä½¿ç”¨ `@vueuse/motion` æ¥åŠ¨ç”»åŒ– `Dialog`ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ ¹æ®å…¶å¯ç»„åˆé¡¹ï¼ˆä¾‹å¦‚ `useSpring`ï¼‰çš„åŠ¨ç”»çŠ¶æ€æœ‰æ¡ä»¶åœ°æ¸²æŸ“å¯¹è¯æ¡† `Overlay` å’Œ `Content` éƒ¨åˆ†æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š

```vue
<script setup lang="ts">
import { useSpring } from '@vueuse/motion'
import {
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogOverlay,
  DialogPortal,
  DialogRoot,
  DialogTitle,
  DialogTrigger,
} from 'reka-ui'
import { reactive, ref, watch } from 'vue'

const stages = {
  initial: { opacity: 0, scale: 0, top: 0 },
  enter: { opacity: 1, scale: 1, top: 50 },
  leave: { opacity: 0, scale: 0.6, top: 30 },
}

const styles = reactive(stages.initial)
const { set } = useSpring(styles, {
  damping: 8,
  stiffness: 200,
})

const open = ref(false)

watch(open, () => {
  if (open.value) set(stages.enter)
  else set(stages.leave)
})
</script>

<template>
  <DialogRoot v-model:open="open">
    <DialogTrigger>
      ç¼–è¾‘ä¸ªäººèµ„æ–™
    </DialogTrigger>
    <DialogPortal v-if="styles.opacity !== 0">
      <DialogOverlay
        force-mount
        :style="{
          opacity: styles.opacity,
          transform: `scale(${styles.scale})`,
        }"
      />
      <DialogContent
        force-mount
        :style="{
          opacity: styles.opacity,
          top: `${styles.top}%`,
        }"
      >
        <h1>æ¥è‡ª Dialog å†…éƒ¨çš„é—®å€™ï¼</h1>
        <DialogClose>å…³é—­</DialogClose>
      </DialogContent>
    </DialogPortal>
  </DialogRoot>
</template>
```

::tip
æŸ¥çœ‹è¿™ä¸ª [Stackblitz æ¼”ç¤º](https://stackblitz.com/edit/macsaz-xuwbw3im?file=src%2FApp.vue)
::
